---
title: So khớp các thực thể để hợp nhất dữ liệu
description: So khớp các thực thể để tạo hồ sơ khách hàng hợp nhất.
ms.date: 02/23/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: adkuppa
ms.author: adkuppa
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: 2155042d86cda0cffee1588760a06d6c7eb7077e
ms.sourcegitcommit: fcc94f55dc2dce84eae188d582801dc47696c9cc
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 05/20/2021
ms.locfileid: "6085648"
---
# <a name="match-entities"></a><span data-ttu-id="091cd-103">So khớp thực thể</span><span class="sxs-lookup"><span data-stu-id="091cd-103">Match entities</span></span>

<span data-ttu-id="091cd-104">Giai đoạn so khớp chỉ định cách kết hợp bộ dữ liệu của bạn vào bộ dữ liệu hồ sơ khách hàng hợp nhất.</span><span class="sxs-lookup"><span data-stu-id="091cd-104">The match phase specifies how to combine your datasets into a unified customer profile dataset.</span></span> <span data-ttu-id="091cd-105">Sau khi hoàn thành [bước lập bản đồ](map-entities.md) trong quy trình hợp nhất dữ liệu, bạn đã sẵn sàng khớp các thực thể.</span><span class="sxs-lookup"><span data-stu-id="091cd-105">After completing the [map step](map-entities.md) in the data unification process, you're ready to match your entities.</span></span> <span data-ttu-id="091cd-106">Giai đoạn so khớp cần ít nhất hai thực thể ánh xạ.</span><span class="sxs-lookup"><span data-stu-id="091cd-106">The match phase requires at least two mapped entities.</span></span>

<span data-ttu-id="091cd-107">Trang đối sánh bao gồm ba phần:</span><span class="sxs-lookup"><span data-stu-id="091cd-107">The match page consists of three sections:</span></span> 
- <span data-ttu-id="091cd-108">Các chỉ số chính tóm tắt số lượng bản ghi phù hợp</span><span class="sxs-lookup"><span data-stu-id="091cd-108">Key metrics that summarize the number of matched records</span></span>
- <span data-ttu-id="091cd-109">Đối sánh thứ tự và quy tắc để đối sánh nhiều thực thể</span><span class="sxs-lookup"><span data-stu-id="091cd-109">Match order and rules for cross-entity matching</span></span>
- <span data-ttu-id="091cd-110">Quy tắc loại bỏ trùng lặp các thực thể đối sánh</span><span class="sxs-lookup"><span data-stu-id="091cd-110">Rules for deduplication of match entities</span></span>

## <a name="specify-the-match-order"></a><span data-ttu-id="091cd-111">Chỉ định thứ tự so khớp</span><span class="sxs-lookup"><span data-stu-id="091cd-111">Specify the match order</span></span>

<span data-ttu-id="091cd-112">Truy cập **Dữ liệu** > **Unify** > **So khớp** rồi chọn **Đặt thứ tự** để bắt đầu giai đoạn so khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-112">Go to **Data** > **Unify** > **Match** and select **Set order** to start the match phase.</span></span>

<span data-ttu-id="091cd-113">Mỗi quy tắc hợp nhất hai hoặc nhiều thực thể thành một thực thể hợp nhất.</span><span class="sxs-lookup"><span data-stu-id="091cd-113">Each match unifies two or more entities into a single, consolidated entity.</span></span> <span data-ttu-id="091cd-114">Đồng thời, nó lưu giữ hồ sơ khách hàng duy nhất.</span><span class="sxs-lookup"><span data-stu-id="091cd-114">At the same time, it keeps the unique customer records.</span></span> <span data-ttu-id="091cd-115">Ví dụ: chúng tôi đã chọn hai thực thể: **eCommerce:eCommerceContacts** làm thực thể chính và **LoyaltyScheme:loyCustomers** làm thực thể phụ.</span><span class="sxs-lookup"><span data-stu-id="091cd-115">For example, we selected two entities: **eCommerce:eCommerceContacts** as the primary entity and **LoyaltyScheme:loyCustomers** as second entity.</span></span> <span data-ttu-id="091cd-116">Thứ tự của các thực thể xác định thứ tự mà hệ thống sẽ cố gắng khớp các bản ghi.</span><span class="sxs-lookup"><span data-stu-id="091cd-116">The order of the entities specifies in which order the system will try to match the records.</span></span>

:::image type="content" source="media/match-page.png" alt-text="Ảnh chụp màn hình của trang Đối sánh trong khu vực Hợp nhất của quá trình hợp nhất dữ liệu.":::
  
<span data-ttu-id="091cd-118">Thực thể chính *eCommerce:eCommerceContacts* được khớp với thực thể tiếp theo *LoyaltyScheme:loyCustomers*.</span><span class="sxs-lookup"><span data-stu-id="091cd-118">The primary entity *eCommerce:eCommerceContacts* is matched with the next entity *LoyaltyScheme:loyCustomers*.</span></span> <span data-ttu-id="091cd-119">Tập dữ liệu là kết quả của bước đối sánh đầu tiên được đối sánh với thực thể sau nếu bạn có nhiều hơn hai thực thể.</span><span class="sxs-lookup"><span data-stu-id="091cd-119">The dataset that results from the first match step is matched with the following entity if you have more than two entities.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="091cd-120">Thực thể mà bạn chọn làm thực thể chính sẽ làm cơ sở cho tập dữ liệu hồ sơ hợp nhất.</span><span class="sxs-lookup"><span data-stu-id="091cd-120">The entity that you choose as your primary entity will serve as the basis for your unified profiles dataset.</span></span> <span data-ttu-id="091cd-121">Các thực thể bổ sung được chọn trong giai đoạn so khớp sẽ được thêm vào thực thể này.</span><span class="sxs-lookup"><span data-stu-id="091cd-121">Additional entities that are selected during the match phase will be added to this entity.</span></span> <span data-ttu-id="091cd-122">Điều này không có nghĩa là thực thể hợp nhất sẽ bao gồm *tất cả* dữ liệu được bao gồm trong thực thể này.</span><span class="sxs-lookup"><span data-stu-id="091cd-122">This doesn't mean that the unified entity will include *all* of the data included in this entity.</span></span>
>
> <span data-ttu-id="091cd-123">Có hai cân nhắc có thể giúp bạn chọn phân cấp của các thực thể:</span><span class="sxs-lookup"><span data-stu-id="091cd-123">There are two considerations that can help you choose the hierarchy of your entities:</span></span>
>
> - <span data-ttu-id="091cd-124">Chọn thực thể có dữ liệu hồ sơ đầy đủ và đáng tin cậy nhất về khách hàng của bạn làm thực thể chính.</span><span class="sxs-lookup"><span data-stu-id="091cd-124">Choose the entity with the most complete and reliable profile data about your customers as primary entity.</span></span>
> - <span data-ttu-id="091cd-125">Chọn thực thể có một số thuộc tính chung với các thực thể khác (ví dụ: tên, số điện thoại hoặc địa chỉ email) làm thực thể chính.</span><span class="sxs-lookup"><span data-stu-id="091cd-125">Choose the entity that hast several attributes in common with other entities (for example, name, phone number, or email address) as primary entity.</span></span>

<span data-ttu-id="091cd-126">Sau khi chỉ định thứ tự đối sánh, bạn sẽ nhìn thấy các cặp đối sánh xác định trong phần **Thông tin chi tiết bản ghi đối sánh** trên **Dữ liệu** > **Hợp nhất** > **Đối sánh**.</span><span class="sxs-lookup"><span data-stu-id="091cd-126">After specifying the match order, you'll see the defined match pairs in the **Matched records details** section on **Data** > **Unify** > **Match**.</span></span> <span data-ttu-id="091cd-127">Các chỉ số chính sẽ trống cho đến khi quá trình đối sánh hoàn tất.</span><span class="sxs-lookup"><span data-stu-id="091cd-127">The key metrics will be empty until the match process completes.</span></span>

## <a name="define-rules-for-match-pairs"></a><span data-ttu-id="091cd-128">Xác định quy tắc cho các cặp đối sánh</span><span class="sxs-lookup"><span data-stu-id="091cd-128">Define rules for match pairs</span></span>

<span data-ttu-id="091cd-129">Quy tắc so khớp sẽ chỉ định logic mà một cặp thực thể cụ thể sẽ được so khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-129">Match rules specify the logic by which a specific pair of entities will be matched.</span></span>

<span data-ttu-id="091cd-130">Cảnh báo **Cần quy tắc** bên cạnh tên thực thể đề xuất rằng không có quy tắc nào được xác định cho một cặp đối sánh.</span><span class="sxs-lookup"><span data-stu-id="091cd-130">The **Needs rules** warning next to an entity name suggests that no match rule is defined for a match pair.</span></span> 

:::image type="content" source="media/match-rule-add.png" alt-text="Ảnh chụp màn hình của phần Chi tiết bản ghi phù hợp có kiểm soát để thêm các quy tắc được đánh dấu.":::

1. <span data-ttu-id="091cd-132">Chọn **Thêm quy tắc** bên dưới một thực thể trong phần **Chi tiết bản ghi đối sánh** để xác định các quy tắc đối sánh.</span><span class="sxs-lookup"><span data-stu-id="091cd-132">Select **Add rules** under an entity in the **Matched records details** section to define match rules.</span></span>

1. <span data-ttu-id="091cd-133">Trong ngăn **Tạo quy tắc**, hãy cấu hình các điều kiện cho quy tắc.</span><span class="sxs-lookup"><span data-stu-id="091cd-133">In the **Create rule** pane, configure the conditions for the rule.</span></span>

   :::image type="content" source="media/match-rule-conditions.png" alt-text="Ảnh chụp màn hình một quy tắc đối sánh đã mở với các điều kiện được thêm vào.":::

   - <span data-ttu-id="091cd-135">**Thực thể/Trường (hàng đầu tiên)**: Chọn một thực thể liên quan và một thuộc tính để chỉ định thuộc tính bản ghi có khả năng dành riêng cho một khách hàng.</span><span class="sxs-lookup"><span data-stu-id="091cd-135">**Entity/Field (first row)**: Choose a related entity and an attribute to specify a record property that is likely unique to a customer.</span></span> <span data-ttu-id="091cd-136">Ví dụ: số điện thoại hoặc địa chỉ email.</span><span class="sxs-lookup"><span data-stu-id="091cd-136">For example, a phone number or email address.</span></span> <span data-ttu-id="091cd-137">Tránh trùng khớp theo thuộc tính loại hoạt động.</span><span class="sxs-lookup"><span data-stu-id="091cd-137">Avoid matching by activity-type attributes.</span></span> <span data-ttu-id="091cd-138">Ví dụ: ID mua hàng có thể sẽ không khớp trong các loại bản ghi khác.</span><span class="sxs-lookup"><span data-stu-id="091cd-138">For example, a purchase ID will likely find no match in other record types.</span></span>

   - <span data-ttu-id="091cd-139">**Thực thể/Trường (hàng thứ hai)**: Chọn một thuộc tính liên quan đến thuộc tính của thực thể được chỉ định trong hàng đầu tiên.</span><span class="sxs-lookup"><span data-stu-id="091cd-139">**Entity/Field (second row)**: Choose an attribute that relates to the attribute of the entity specified in the first row.</span></span>

   - <span data-ttu-id="091cd-140">**Bình thường hóa**: Chọn trong số các tùy chọn chuẩn hóa sau cho các thuộc tính đã chọn.</span><span class="sxs-lookup"><span data-stu-id="091cd-140">**Normalize**: Select from following normalization options for the selected attributes.</span></span> 
     - <span data-ttu-id="091cd-141">Khoảng trắng: Loại bỏ tất cả các khoảng trắng.</span><span class="sxs-lookup"><span data-stu-id="091cd-141">Whitespace: Removes all spaces.</span></span> <span data-ttu-id="091cd-142">*Hello   World* trở thành *HelloWorld*.</span><span class="sxs-lookup"><span data-stu-id="091cd-142">*Hello   World* becomes *HelloWorld*.</span></span>
     - <span data-ttu-id="091cd-143">Biểu tượng: Loại bỏ tất cả biểu tượng và ký tự đặc biệt.</span><span class="sxs-lookup"><span data-stu-id="091cd-143">Symbols: Removes all symbols and special characters.</span></span> <span data-ttu-id="091cd-144">*Head&Shoulder* trở thành *HeadShoulder*.</span><span class="sxs-lookup"><span data-stu-id="091cd-144">*Head&Shoulder* becomes *HeadShoulder*.</span></span>
     - <span data-ttu-id="091cd-145">Văn bản thành chữ thường: Chuyển đổi tất cả các ký tự thành chữ thường.</span><span class="sxs-lookup"><span data-stu-id="091cd-145">Text to lower case: Converts all character to lower case.</span></span> <span data-ttu-id="091cd-146">*ALL CAPS and Title Case* trở thành *all caps and title case*.</span><span class="sxs-lookup"><span data-stu-id="091cd-146">*ALL CAPS and Title Case* becomes *all caps and title case*.</span></span>
     - <span data-ttu-id="091cd-147">Unicode sang ASCII: Chuyển đổi ký hiệu unicode thành ký tự ASCII.</span><span class="sxs-lookup"><span data-stu-id="091cd-147">Unicode to ASCII: Converts unicode notation to ASCII characters.</span></span> <span data-ttu-id="091cd-148">*/u00B2* trở thành *2*.</span><span class="sxs-lookup"><span data-stu-id="091cd-148">*/u00B2* becomes *2*.</span></span>
     - <span data-ttu-id="091cd-149">Chữ số: Chuyển đổi các hệ thống chữ số khác, chẳng hạn như chữ số La Mã, sang chữ số Ả Rập.</span><span class="sxs-lookup"><span data-stu-id="091cd-149">Numerals: Converts other numeral systems, such as Roman numerals, to Arabic numerals.</span></span> <span data-ttu-id="091cd-150">*VIII* trở thành *8*.</span><span class="sxs-lookup"><span data-stu-id="091cd-150">*VIII* becomes *8*.</span></span>
     - <span data-ttu-id="091cd-151">Loại ngữ nghĩa: Chuẩn hóa tên, chức danh, số điện thoại, địa chỉ, v.v.</span><span class="sxs-lookup"><span data-stu-id="091cd-151">Semantic types: Standardizes names, titles, phone numbers, addresses, etc.</span></span> 

   - <span data-ttu-id="091cd-152">**Độ chính xác**: Đặt mức độ chính xác để áp dụng cho điều kiện này.</span><span class="sxs-lookup"><span data-stu-id="091cd-152">**Precision**: Set the level of precision to apply for this condition.</span></span> 
     - <span data-ttu-id="091cd-153">**Căn bản**: Chọn từ *Thấp*, *Trung bình*, *Cao* và *Chính xác*.</span><span class="sxs-lookup"><span data-stu-id="091cd-153">**Basic**: Choose from *Low*, *Medium*, *High*, and *Exact*.</span></span> <span data-ttu-id="091cd-154">Chọn **Chính xác** để chỉ so khớp các bản ghi khớp 100%.</span><span class="sxs-lookup"><span data-stu-id="091cd-154">Select **Exact** to only match records that that match 100 percent.</span></span> <span data-ttu-id="091cd-155">Chọn một trong các cấp độ khác để khớp với các bản ghi không giống nhau 100%.</span><span class="sxs-lookup"><span data-stu-id="091cd-155">Select one of the other levels to match records that aren't 100 percent identical.</span></span>
     - <span data-ttu-id="091cd-156">**Tùy chỉnh**: Đặt tỷ lệ phần trăm mà bản ghi cần so khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-156">**Custom**: Set a percentage that records need to match.</span></span> <span data-ttu-id="091cd-157">Hệ thống sẽ chỉ khớp các bản ghi vượt qua ngưỡng này.</span><span class="sxs-lookup"><span data-stu-id="091cd-157">The system will only match records passing this threshold.</span></span>

1. <span data-ttu-id="091cd-158">Cung cấp **Tên** cho quy tắc.</span><span class="sxs-lookup"><span data-stu-id="091cd-158">Provide a **Name** for the rule.</span></span>

1. <span data-ttu-id="091cd-159">[Thêm các điều kiện khác](#add-conditions-to-a-rule) hoặc chọn **Xong** để hoàn thiện quy tắc.</span><span class="sxs-lookup"><span data-stu-id="091cd-159">[Add more conditions](#add-conditions-to-a-rule) or select **Done** to finalize the rule.</span></span>

1. <span data-ttu-id="091cd-160">Không bắt buộc, [thêm các quy tắc khác](#add-rules-to-a-match-pair).</span><span class="sxs-lookup"><span data-stu-id="091cd-160">Optionally, [add more rules](#add-rules-to-a-match-pair).</span></span>

1. <span data-ttu-id="091cd-161">Chọn **Lưu** để áp dụng thay đổi.</span><span class="sxs-lookup"><span data-stu-id="091cd-161">Select **Save** to apply your changes.</span></span>

### <a name="add-conditions-to-a-rule"></a><span data-ttu-id="091cd-162">Thêm điều kiện cho quy tắc</span><span class="sxs-lookup"><span data-stu-id="091cd-162">Add conditions to a rule</span></span>

<span data-ttu-id="091cd-163">Để đối sánh các thực thể chỉ khi các thuộc tính đáp ứng nhiều điều kiện, hãy thêm các điều kiện khác vào quy tắc đối sánh.</span><span class="sxs-lookup"><span data-stu-id="091cd-163">To match entities only if attributes meet multiple conditions, add more conditions to a match rule.</span></span> <span data-ttu-id="091cd-164">Các điều kiện được kết nối với một toán tử logic AND và do đó chỉ được thực thi nếu tất cả các điều kiện được đáp ứng.</span><span class="sxs-lookup"><span data-stu-id="091cd-164">Conditions are connected with a logical AND operator and thus only executed if all conditions are met.</span></span>

1. <span data-ttu-id="091cd-165">Chuyển đến **Dữ liệu** > **Hợp nhất** > **Đối sánh** và chọn **Chỉnh sửa** cho quy tắc bạn muốn thêm điều kiện vào.</span><span class="sxs-lookup"><span data-stu-id="091cd-165">Go to **Data** > **Unify** > **Match** and select **Edit** on the rule you want to add conditions to.</span></span>

1. <span data-ttu-id="091cd-166">Trong ngăn **Chỉnh sửa quy tắc**, chọn **Thêm điều kiện**.</span><span class="sxs-lookup"><span data-stu-id="091cd-166">In the **Edit rule** pane, select **Add condition**.</span></span>

1. <span data-ttu-id="091cd-167">Chọn **Hoàn tất** để lưu quy tắc.</span><span class="sxs-lookup"><span data-stu-id="091cd-167">Select **Done** so save the rule.</span></span>

### <a name="add-rules-to-a-match-pair"></a><span data-ttu-id="091cd-168">Thêm quy tắc vào một cặp đối sánh</span><span class="sxs-lookup"><span data-stu-id="091cd-168">Add rules to a match pair</span></span>

<span data-ttu-id="091cd-169">Các quy tắc đối sánh đại diện cho các tập hợp các điều kiện.</span><span class="sxs-lookup"><span data-stu-id="091cd-169">Match rules represent sets of conditions.</span></span> <span data-ttu-id="091cd-170">Để so khớp các thực thể theo điều kiện dựa trên nhiều thuộc tính, hãy thêm các quy tắc khác.</span><span class="sxs-lookup"><span data-stu-id="091cd-170">To match entities by conditions based on multiple attributes, add more rules</span></span>

1.  <span data-ttu-id="091cd-171">Chuyển đến **Dữ liệu** > **Hợp nhất** > **Đối sánh** rồi chọn **Thêm quy tắc** đối với thực thể mà bạn muốn quy tắc vào.</span><span class="sxs-lookup"><span data-stu-id="091cd-171">Go to **Data** > **Unify** > **Match** and select **Add rule** on the entity you want to add rules to.</span></span>

2. <span data-ttu-id="091cd-172">Làm theo các bước trong [Xác định quy tắc cho các cặp đối sánh](#define-rules-for-match-pairs).</span><span class="sxs-lookup"><span data-stu-id="091cd-172">Follow the steps in [Define rules for match pairs](#define-rules-for-match-pairs).</span></span>

> [!NOTE]
> <span data-ttu-id="091cd-173">Thứ tự của các quy tắc quan trọng.</span><span class="sxs-lookup"><span data-stu-id="091cd-173">The order of rules matters.</span></span> <span data-ttu-id="091cd-174">Thuật toán đối sánh cố gắng đối sánh trên cơ sở quy tắc đầu tiên của bạn và chỉ tiếp tục với quy tắc thứ hai nếu không có kết quả phù hợp nào được xác định với quy tắc đầu tiên.</span><span class="sxs-lookup"><span data-stu-id="091cd-174">The matching algorithm tries to match on the basis of your first rule and continues to the second rule only if no matches were identified with the first rule.</span></span>

### <a name="change-the-entity-order-in-match-rules"></a><span data-ttu-id="091cd-175">Thay đổi thứ tự thực thể trong quy tắc đối sánh</span><span class="sxs-lookup"><span data-stu-id="091cd-175">Change the entity order in match rules</span></span>

<span data-ttu-id="091cd-176">Bạn có thể sắp xếp lại thứ tự các thực thể cho các quy tắc đối sánh để thay đổi trình tự xử lý.</span><span class="sxs-lookup"><span data-stu-id="091cd-176">You can reorder entities for match rules to change the order in which they are processed.</span></span> <span data-ttu-id="091cd-177">Các quy tắc bị xung đột do thay đổi thứ tự sẽ bị xóa.</span><span class="sxs-lookup"><span data-stu-id="091cd-177">Rules that are conflicting because of a changed order will be removed.</span></span> <span data-ttu-id="091cd-178">Bạn phải tạo lại các quy tắc đã xóa với cấu hình được cập nhật.</span><span class="sxs-lookup"><span data-stu-id="091cd-178">You have to recreate removed rules with an updated configuration.</span></span>

1. <span data-ttu-id="091cd-179">Chuyển tới mục **Dữ liệu** > **Hợp nhất** > **Đối sánh** và chọn **Chỉnh sửa**.</span><span class="sxs-lookup"><span data-stu-id="091cd-179">Go to **Data** > **Unify** > **Match** and select **Edit**.</span></span>

1. <span data-ttu-id="091cd-180">Trong ngăn **Chỉnh sửa quy tắc**, chọn bảng điều khiển **Di chuyển lên/xuống** hoặc kéo và thả các thực thể để thay đổi thứ tự.</span><span class="sxs-lookup"><span data-stu-id="091cd-180">In the **Edit rule** pane, select the **Move up/down** control or drag and drop entities to change the order.</span></span>

   :::image type="content" source="media/reorder-match-rules.png" alt-text="Trong giai đoạn đối sánh, các thực thể lệnh được thay đổi theo các tùy chọn.":::

1. <span data-ttu-id="091cd-182">Chọn **Hoàn tất** để lưu quy tắc.</span><span class="sxs-lookup"><span data-stu-id="091cd-182">Select **Done** so save the rule.</span></span>

## <a name="define-deduplication-on-a-match-entity"></a><span data-ttu-id="091cd-183">Xác định quy tắc chống trùng lặp trên một thực thể so khớp</span><span class="sxs-lookup"><span data-stu-id="091cd-183">Define deduplication on a match entity</span></span>

<span data-ttu-id="091cd-184">Ngoài [quy tắc đối sánh trên nhiều thực thể](#define-rules-for-match-pairs), bạn cũng có thể chỉ định các quy tắc loại bỏ trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="091cd-184">In addition to [cross-entity match rules](#define-rules-for-match-pairs), you can also specify deduplications rules.</span></span> <span data-ttu-id="091cd-185">*Loại bỏ trùng lặp* là một quy trình khác khi so khớp các bản ghi.</span><span class="sxs-lookup"><span data-stu-id="091cd-185">*Deduplication* is another process when matching records.</span></span> <span data-ttu-id="091cd-186">Nó xác định các bản ghi trùng lặp và hợp nhất chúng thành một bản ghi.</span><span class="sxs-lookup"><span data-stu-id="091cd-186">It identifies duplicate records and merges them into one record.</span></span> <span data-ttu-id="091cd-187">Bản ghi nguồn được liên kết với bản ghi đã hợp nhất bằng các ID thay thế.</span><span class="sxs-lookup"><span data-stu-id="091cd-187">Source records get linked to the merged record with alternate IDs.</span></span>

<span data-ttu-id="091cd-188">Sau đó bản ghi đã loại bỏ trùng lặp này sẽ được sử dụng trong quá trình so khớp trên nhiều thực thể.</span><span class="sxs-lookup"><span data-stu-id="091cd-188">Deduplicated records will be used in the cross-entity matching process.</span></span> <span data-ttu-id="091cd-189">Việc trùng lặp xảy ra trên các thực thể riêng lẻ và có thể được định cấu hình cho mọi thực thể được sử dụng trong các cặp đối sánh.</span><span class="sxs-lookup"><span data-stu-id="091cd-189">Deduplication happens on individual entities and can be configured every entity used in match pairs.</span></span>

<span data-ttu-id="091cd-190">Việc chỉ định các quy tắc chống trùng lặp là không bắt buộc.</span><span class="sxs-lookup"><span data-stu-id="091cd-190">Specifying deduplication rules isn't mandatory.</span></span> <span data-ttu-id="091cd-191">Nếu không có quy tắc nào như vậy được định cấu hình, các quy tắc do hệ thống xác định sẽ được áp dụng.</span><span class="sxs-lookup"><span data-stu-id="091cd-191">If no such rules are configured, the system-defined rules are applied.</span></span> <span data-ttu-id="091cd-192">Chúng kết hợp tất cả các bản ghi thành một bản ghi duy nhất trước khi chuyển dữ liệu thực thể sang đối sánh nhiều thực thể để nâng cao hiệu suất.</span><span class="sxs-lookup"><span data-stu-id="091cd-192">They combine all records into a single record before passing the entity data to cross-entity matching for enhanced performance.</span></span>

### <a name="add-deduplication-rules"></a><span data-ttu-id="091cd-193">Thêm quy tắc chống trùng lặp</span><span class="sxs-lookup"><span data-stu-id="091cd-193">Add deduplication rules</span></span>

1. <span data-ttu-id="091cd-194">Chuyển đến **Dữ liệu** > **Hợp nhất** > **Đối sánh**.</span><span class="sxs-lookup"><span data-stu-id="091cd-194">Go to **Data** > **Unify** > **Match**.</span></span>

1. <span data-ttu-id="091cd-195">Trong phần **Bản trùng lặp đã hợp nhất**, chọn **Đặt thực thể**.</span><span class="sxs-lookup"><span data-stu-id="091cd-195">In the **Merged duplicates** section, select **Set entities**.</span></span> <span data-ttu-id="091cd-196">Trong trường hợp các quy tắc khử trùng lặp đã được tạo, hãy chọn **Chỉnh sửa**.</span><span class="sxs-lookup"><span data-stu-id="091cd-196">In case deduplication rules are already created, select **Edit**.</span></span>

1. <span data-ttu-id="091cd-197">Trong ngăn **Tùy chọn trộn**, hãy chọn các thực thể mà bạn muốn chạy loại bỏ trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="091cd-197">In the **Merge preferences** pane, choose the entities you want to run deduplication on.</span></span>

1. <span data-ttu-id="091cd-198">Chỉ định cách kết hợp các bản ghi trùng lặp và chọn 1 trong 3 tùy chọn:</span><span class="sxs-lookup"><span data-stu-id="091cd-198">Specify how to combine the duplicate records and choose one of three options:</span></span>
   - <span data-ttu-id="091cd-199">**Điền nhiều nhất**: Xác định bản ghi có các trường thuộc tính được điền nhiều nhất là bản ghi được chọn.</span><span class="sxs-lookup"><span data-stu-id="091cd-199">**Most filled**: Identifies the record with most populated attribute fields as the winner record.</span></span> <span data-ttu-id="091cd-200">Đây là tùy chọn phối mặc định.</span><span class="sxs-lookup"><span data-stu-id="091cd-200">It's the default merge option.</span></span>
   - <span data-ttu-id="091cd-201">**Gần đây nhất**: Xác định bản ghi chiến thắng dựa trên lần truy cập gần đây nhất.</span><span class="sxs-lookup"><span data-stu-id="091cd-201">**Most recent**: Identifies the winner record based on the most recency.</span></span> <span data-ttu-id="091cd-202">Yêu cầu ngày hoặc trường số để xác định lần truy cập gần đây.</span><span class="sxs-lookup"><span data-stu-id="091cd-202">Requires a date or a numeric field to define the recency.</span></span>
   - <span data-ttu-id="091cd-203">**Cách đây xa nhất**: Xác định bản ghi chiến thắng dựa trên lần truy cập cách đây xa nhất.</span><span class="sxs-lookup"><span data-stu-id="091cd-203">**Least recent**: Identifies the winner record based on the least recency.</span></span> <span data-ttu-id="091cd-204">Yêu cầu ngày hoặc trường số để xác định lần truy cập gần đây.</span><span class="sxs-lookup"><span data-stu-id="091cd-204">Requires a date or a numeric field to define the recency.</span></span>
 
   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="091cd-205">![Quy tắc chống trùng lặp bước 1](media/match-selfconflation.png "Quy tắc chống trùng lặp bước 1")</span><span class="sxs-lookup"><span data-stu-id="091cd-205">![Deduplication rules step 1](media/match-selfconflation.png "Deduplication rules step 1")</span></span>
 
1. <span data-ttu-id="091cd-206">Sau khi thực thể được chọn và tùy chọn trộn được đặt, hãy chọn **Thêm quy tắc** để xác định các quy tắc loại bỏ trùng lặp ở cấp độ thực thể.</span><span class="sxs-lookup"><span data-stu-id="091cd-206">Once the entities are selected and their merge preference is set, select **Add rule** to define the deduplication rules at an entity level.</span></span>
   - <span data-ttu-id="091cd-207">**Chọn trường** liệt kê tất cả các trường hiện có từ thực thể đó.</span><span class="sxs-lookup"><span data-stu-id="091cd-207">**Select field** lists all the available fields from that entity.</span></span> <span data-ttu-id="091cd-208">Chọn trường bạn muốn kiểm tra các bản trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="091cd-208">Choose the field you want to check for duplicates.</span></span> <span data-ttu-id="091cd-209">Chọn các trường có thể là duy nhất cho mọi khách hàng.</span><span class="sxs-lookup"><span data-stu-id="091cd-209">Choose fields that are likely unique for every single customer.</span></span> <span data-ttu-id="091cd-210">Ví dụ: địa chỉ email hoặc sự kết hợp của tên, thành phố và số điện thoại.</span><span class="sxs-lookup"><span data-stu-id="091cd-210">For example, an email address, or the combination of name, city, and phone number.</span></span>
   - <span data-ttu-id="091cd-211">Chỉ định cài đặt chuẩn hóa và thiết đặt độ chính xác.</span><span class="sxs-lookup"><span data-stu-id="091cd-211">Specify the normalization and precision settings.</span></span>
   - <span data-ttu-id="091cd-212">Xác định các điều kiện khác bằng cách chọn **Thêm điều kiện**.</span><span class="sxs-lookup"><span data-stu-id="091cd-212">Define more conditions by selecting **Add condition**.</span></span>
 
   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="091cd-213">![Quy tắc chống trùng lặp bước 2](media/match-selfconflation-rules.png "Quy tắc chống trùng lặp bước 2")</span><span class="sxs-lookup"><span data-stu-id="091cd-213">![Deduplication rules step 2](media/match-selfconflation-rules.png "Deduplication rules step 2")</span></span>

  <span data-ttu-id="091cd-214">Bạn có thể tạo nhiều quy tắc chống trùng lặp cho một thực thể.</span><span class="sxs-lookup"><span data-stu-id="091cd-214">You can create multiple deduplication rules for an entity.</span></span> 

1. <span data-ttu-id="091cd-215">Chạy quy trình so khớp hiện sẽ nhóm các bản ghi dựa trên các điều kiện được xác định trong quy tắc chống trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="091cd-215">Running the match process now groups the records based on the conditions defined in the deduplication rules.</span></span> <span data-ttu-id="091cd-216">Sau khi nhóm các bản ghi, chính sách trộn được áp dụng để xác định bản ghi chiến thắng.</span><span class="sxs-lookup"><span data-stu-id="091cd-216">After grouping the records, the merge policy is applied to identify the winner record.</span></span>

1. <span data-ttu-id="091cd-217">Sau đó, hồ sơ chiến thắng này được chuyển cho quy trình đối sánh giữa các thực thể, cùng với hồ sơ không chiến thắng (ví dụ: ID thay thế) để cải thiện chất lượng đối sánh.</span><span class="sxs-lookup"><span data-stu-id="091cd-217">This winner record is then passed on to the cross-entity matching, along with the non-winner records (for example, alternate IDs) to improve the matching quality.</span></span>

1. <span data-ttu-id="091cd-218">Bất kỳ quy tắc đối sánh tùy chỉnh nào được xác định sẽ ghi đè quy tắc loại bỏ trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="091cd-218">Any custom match rules defined overwrite deduplication rules.</span></span> <span data-ttu-id="091cd-219">Nếu quy tắc chống trùng lặp xác định các bản ghi phù hợp và quy tắc so khớp tùy chỉnh được đặt để không bao giờ khớp với các bản ghi đó, thì hai bản ghi này sẽ không được khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-219">If a deduplication rule identifies matching records, and a custom match rule is set to never match those records, then these two records won't be matched.</span></span>

1. <span data-ttu-id="091cd-220">Sau khi [chạy quá trình đối sánh](#run-the-match-process), bạn sẽ nhìn thấy các thông số loại bỏ trùng lặp trong lát chỉ số chính.</span><span class="sxs-lookup"><span data-stu-id="091cd-220">After [running the match process](#run-the-match-process), you will see the deduplication stats in the key metrics tiles.</span></span>

### <a name="deduplication-output-as-an-entity"></a><span data-ttu-id="091cd-221">Đầu ra khử trùng lặp dưới dạng một thực thể</span><span class="sxs-lookup"><span data-stu-id="091cd-221">Deduplication output as an entity</span></span>

<span data-ttu-id="091cd-222">Quá trình loại bỏ trùng lặp tạo một thực thể mới cho mọi thực thể từ các cặp đối sánh để xác định các bản ghi được loại bỏ trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="091cd-222">The deduplication process creates a new entity for every entity from the match pairs to identify the deduplicated records.</span></span> <span data-ttu-id="091cd-223">Có thể tìm thấy các thực thể cùng với **ConflationMatchPairs:CustomerInsights** trong phần **Hệ thống** trên trang **Thực thể**, với tên **Deduplication_DataSource_Entity**.</span><span class="sxs-lookup"><span data-stu-id="091cd-223">These entities can be found along with the **ConflationMatchPairs:CustomerInsights** in the **System** section in the **Entities** page, with the name **Deduplication_DataSource_Entity**.</span></span>

<span data-ttu-id="091cd-224">Thực thể đầu ra loại bỏ trùng lặp chứa thông tin sau:</span><span class="sxs-lookup"><span data-stu-id="091cd-224">A deduplication output entity contains the following information:</span></span>
- <span data-ttu-id="091cd-225">ID/Khóa</span><span class="sxs-lookup"><span data-stu-id="091cd-225">IDs / Keys</span></span>
  - <span data-ttu-id="091cd-226">Trường khóa chính và trường ID thay thế của nó.</span><span class="sxs-lookup"><span data-stu-id="091cd-226">Primary key field and its alternate IDs field.</span></span> <span data-ttu-id="091cd-227">Trường ID thay thế bao gồm tất cả các ID thay thế được xác định cho một bản ghi.</span><span class="sxs-lookup"><span data-stu-id="091cd-227">Alternate IDs field consists of all the alternate IDs identified for a record.</span></span>
  - <span data-ttu-id="091cd-228">Trường Deduplication_GroupId hiển thị nhóm hoặc cụm được xác định trong một thực thể sẽ nhóm tất cả các bản ghi tương tự dựa trên các trường loại bỏ trùng lặp được chỉ định.</span><span class="sxs-lookup"><span data-stu-id="091cd-228">Deduplication_GroupId field shows the group or cluster identified within an entity that groups all the similar records based on the specified deduplication fields.</span></span> <span data-ttu-id="091cd-229">Tính năng này được sử dụng cho mục đích xử lý hệ thống.</span><span class="sxs-lookup"><span data-stu-id="091cd-229">It's used for system processing purposes.</span></span> <span data-ttu-id="091cd-230">Nếu không có quy tắc khử trùng lặp thủ công nào được chỉ định và áp dụng quy tắc khử trùng lặp do hệ thống xác định, bạn có thể không tìm thấy trường này trong thực thể đầu ra khử trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="091cd-230">If there are no manual deduplication rules specified and system defined deduplication rules apply, you may not find this field in the deduplication output entity.</span></span>
  - <span data-ttu-id="091cd-231">Deduplication_WinnerId: Trường này chứa ID chiến thắng từ các nhóm hoặc cụm đã xác định.</span><span class="sxs-lookup"><span data-stu-id="091cd-231">Deduplication_WinnerId: This field contains the winner ID from the identified groups or clusters.</span></span> <span data-ttu-id="091cd-232">Nếu Deduplication_WinnerId giống với giá trị Khóa chính của một bản ghi, điều đó có nghĩa là bản ghi đó là bản ghi chiến thắng.</span><span class="sxs-lookup"><span data-stu-id="091cd-232">If the Deduplication_WinnerId is same as the Primary key value for a record, it means that the record is the winner record.</span></span>
- <span data-ttu-id="091cd-233">Các trường được sử dụng để xác định các quy tắc khử trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="091cd-233">Fields used to define the deduplication rules.</span></span>
- <span data-ttu-id="091cd-234">Các trường Quy tắc và Điểm để biểu thị quy tắc khử trùng lặp đã được áp dụng và điểm mà thuật toán đối sánh trả về.</span><span class="sxs-lookup"><span data-stu-id="091cd-234">Rule and Score fields to denote which of the deduplication rules got applied and the score returned by the matching algorithm.</span></span>
   
## <a name="run-the-match-process"></a><span data-ttu-id="091cd-235">Chạy quá trình so khớp</span><span class="sxs-lookup"><span data-stu-id="091cd-235">Run the match process</span></span>

<span data-ttu-id="091cd-236">Với các quy tắc so khớp đã định cấu hình, bao gồm cả quy tắc so khớp nhiều thực thể và loại bỏ trùng lặp, bạn có thể chạy quá trình so khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-236">With configured match rules, including cross-entity matching and deduplication rules, you can run the match process.</span></span> 

<span data-ttu-id="091cd-237">Chuyển đến **Dữ liệu** > **Hợp nhất** > **So khớp** rồi chọn **Chạy** để bắt đầu quy trình.</span><span class="sxs-lookup"><span data-stu-id="091cd-237">Go to **Data** > **Unify** > **Match** and select **Run** to start the process.</span></span> <span data-ttu-id="091cd-238">Thuật toán đối sánh mất một khoảng thời gian để hoàn thành và bạn không thể thay đổi cấu hình cho đến khi hoàn tất.</span><span class="sxs-lookup"><span data-stu-id="091cd-238">The matching algorithm takes some time to complete and you can't change the configuration until it completes.</span></span> <span data-ttu-id="091cd-239">Để thay đổi, bạn có thể hủy quá trình chạy.</span><span class="sxs-lookup"><span data-stu-id="091cd-239">To make changes, you can cancel the run.</span></span> <span data-ttu-id="091cd-240">Chọn trạng thái của công việc rồi chọn **Hủy công việc** trên ngăn **Chi tiết về tiến độ**.</span><span class="sxs-lookup"><span data-stu-id="091cd-240">Select the status of the job and select **Cancel job** on the **Progress details** pane.</span></span>

<span data-ttu-id="091cd-241">Bạn sẽ thấy kết quả của một lần chạy thành công, thực thể hồ sơ khách hàng hợp nhất trên trang **Thực thể**.</span><span class="sxs-lookup"><span data-stu-id="091cd-241">You'll find the result of a successful run, the unified customer profile entity, on the **Entities** page.</span></span> <span data-ttu-id="091cd-242">Thực thể khách hàng hợp nhất được gọi là **Khách hàng** trong phần **Hồ sơ**.</span><span class="sxs-lookup"><span data-stu-id="091cd-242">Your unified customer entity is called **Customers** in the **Profiles** section.</span></span> <span data-ttu-id="091cd-243">Lần chạy đối sánh thành công đầu tiên tạo ra thực thể *Khách hàng* hợp nhất.</span><span class="sxs-lookup"><span data-stu-id="091cd-243">The first successful match run creates the unified *Customer* entity.</span></span> <span data-ttu-id="091cd-244">Tất cả lần so khớp tiếp theo sẽ mở rộng thực thể đó.</span><span class="sxs-lookup"><span data-stu-id="091cd-244">All subsequent match runs expand that entity.</span></span>

> [!TIP]
> <span data-ttu-id="091cd-245">Có [6 loại trạng thái](system.md#status-types) cho các nhiệm vụ/quy trình.</span><span class="sxs-lookup"><span data-stu-id="091cd-245">There are [six types of status](system.md#status-types) for tasks/processes.</span></span> <span data-ttu-id="091cd-246">Ngoài ra, hầu hết các quy trình [phụ thuộc vào các quá trình hạ nguồn khác](system.md#refresh-policies).</span><span class="sxs-lookup"><span data-stu-id="091cd-246">Additionally, most processes [depend on other downstream processes](system.md#refresh-policies).</span></span> <span data-ttu-id="091cd-247">Bạn có thể chọn trạng thái của một quy trình để xem chi tiết về tiến trình của toàn bộ công việc.</span><span class="sxs-lookup"><span data-stu-id="091cd-247">You can select the status of a process to see details on the progress of the entire job.</span></span> <span data-ttu-id="091cd-248">Sau khi chọn **Xem chi tiết** đối với một trong các tác vụ của công việc, bạn sẽ tìm thấy thông tin bổ sung: thời gian xử lý, ngày xử lý gần nhất và tất cả các lỗi và cảnh báo liên quan đến tác vụ.</span><span class="sxs-lookup"><span data-stu-id="091cd-248">After selecting **See details** for one of the job's tasks, you find additional information: processing time, the last processing date, and all errors and warnings associated with the task.</span></span>

## <a name="review-and-validate-your-matches"></a><span data-ttu-id="091cd-249">Xem lại và xác thực các so khớp của bạn</span><span class="sxs-lookup"><span data-stu-id="091cd-249">Review and validate your matches</span></span>

<span data-ttu-id="091cd-250">Đi đến **Dữ liệu** > **Hợp nhất** > **So khớp** để đánh giá chất lượng của các cặp so khớp rồi xác định chúng nếu cần.</span><span class="sxs-lookup"><span data-stu-id="091cd-250">Go to **Data** > **Unify** > **Match** to evaluate the quality of your match pairs and refine them if necessary.</span></span>

<span data-ttu-id="091cd-251">Các lát trên đầu trang hiển thị các chỉ số chính, tóm tắt số lượng bản ghi phù hợp và các bản sao.</span><span class="sxs-lookup"><span data-stu-id="091cd-251">The tiles on top of the page show key metrics, summarizing the number of matched records and duplicates.</span></span>

:::image type="content" source="media/match-KPIs.png" alt-text="Ảnh chụp màn hình đã cắt của các chỉ số chính trên trang Đối sánh với các con số và chi tiết.":::

- <span data-ttu-id="091cd-253">**Bản ghi nguồn duy nhất** hiển thị số lượng bản ghi nguồn riêng lẻ đã được xử lý trong lần chạy đối sánh cuối cùng.</span><span class="sxs-lookup"><span data-stu-id="091cd-253">**Unique source records** shows the number of individual source records that were processed in last match run.</span></span>
- <span data-ttu-id="091cd-254">**Bản ghi phù hợp và không khớp** làm nổi bật số lượng bản ghi duy nhất còn lại sau khi xử lý các quy tắc đối sánh.</span><span class="sxs-lookup"><span data-stu-id="091cd-254">**Matched and non-matched records** highlights how many unique records remain after processing the match rules.</span></span>
- <span data-ttu-id="091cd-255">**Chỉ các bản ghi phù hợp** hiển thị số lượng trận đấu trên tất cả các cặp đối sánh của bạn.</span><span class="sxs-lookup"><span data-stu-id="091cd-255">**Matched records only** shows the number of matches across all of your match pairs.</span></span>

<span data-ttu-id="091cd-256">Bạn có thể đánh giá kết quả của từng cặp so khớp và quy tắc của từng cặp trong bảng **Chi tiết bản ghi so khớp**.</span><span class="sxs-lookup"><span data-stu-id="091cd-256">You can assess the results of each match pair and its rules in the **Matched records details** table.</span></span> <span data-ttu-id="091cd-257">So sánh số bản ghi đến từ một cặp đối sánh với tỷ lệ phần trăm các bản ghi được đối sánh thành công.</span><span class="sxs-lookup"><span data-stu-id="091cd-257">Compare the number of records that came from a match pair against the percentage of successfully matched records.</span></span>

<span data-ttu-id="091cd-258">Xem lại các quy tắc của một cặp đối sánh để xem tỷ lệ phần trăm các bản ghi được đối sánh thành công ở cấp quy tắc.</span><span class="sxs-lookup"><span data-stu-id="091cd-258">Review the rules of a match pair to see the percentage of successfully matched records at the rule level.</span></span> <span data-ttu-id="091cd-259">Chọn dấu chấm lửng (...) rồi chọn **Xem trước so khớp** để xem tất cả các bản ghi này ở cấp quy tắc.</span><span class="sxs-lookup"><span data-stu-id="091cd-259">Select the ellipsis (...) and then select **Match preview** to view all these records on the rule level.</span></span> <span data-ttu-id="091cd-260">Chúng tôi khuyên bạn nên xem một số bản ghi để xác thực rằng chúng đã được khớp chính xác hay chưa.</span><span class="sxs-lookup"><span data-stu-id="091cd-260">We recommend that you take a look at some records to validate that they were matched correctly.</span></span>

<span data-ttu-id="091cd-261">Thử các ngưỡng chính xác khác nhau trên các điều kiện để tìm giá trị tối ưu.</span><span class="sxs-lookup"><span data-stu-id="091cd-261">Try different precision thresholds on conditions to find the optimal value.</span></span>

  1. <span data-ttu-id="091cd-262">Chọn dấu chấm lửng (...) cho quy tắc mà bạn muốn thử nghiệm và chọn **Chỉnh sửa**.</span><span class="sxs-lookup"><span data-stu-id="091cd-262">Select the ellipsis (...) for the rule that you want to experiment with and select **Edit**.</span></span>

  2. <span data-ttu-id="091cd-263">Thay đổi các giá trị khu vực chính xác trong các điều kiện bạn muốn sửa đổi.</span><span class="sxs-lookup"><span data-stu-id="091cd-263">Change the precisions values in the conditions you want to revise.</span></span>

  3. <span data-ttu-id="091cd-264">Lựa chọn **Xem trước** vì vậy hãy xem số lượng bản ghi phù hợp và chưa khớp đối với điều kiện đã chọn.</span><span class="sxs-lookup"><span data-stu-id="091cd-264">Select **Preview** so see the number of matched and unmatched records for the selected condition.</span></span>

## <a name="manage-match-rules"></a><span data-ttu-id="091cd-265">Quản lý quy tắc so khớp</span><span class="sxs-lookup"><span data-stu-id="091cd-265">Manage match rules</span></span>

<span data-ttu-id="091cd-266">Bạn có thể định cấu hình lại và tinh chỉnh hầu hết các thông số khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-266">You can reconfigure and fine-tune most of the match parameters.</span></span>

:::image type="content" source="media/match-rules-management.png" alt-text="Ảnh chụp màn hình menu thả xuống với các tùy chọn quy tắc đối sánh.":::

- <span data-ttu-id="091cd-268">**Thay đổi thứ tự các quy tắc của bạn** nếu bạn đã xác định nhiều quy tắc.</span><span class="sxs-lookup"><span data-stu-id="091cd-268">**Change the order of your rules** if you defined multiple rules.</span></span> <span data-ttu-id="091cd-269">Bạn có thể sắp xếp lại các quy tắc đối sánh bằng cách chọn **Đi lên** và **Đi xuống** hoặc bằng cách kéo và thả.</span><span class="sxs-lookup"><span data-stu-id="091cd-269">You can reorder the match rules by selecting the **Move Up** and **Move Down** options or by drag and drop.</span></span>

- <span data-ttu-id="091cd-270">**Thay đổi điều kiện quy tắc** bằng cách chọn **Chỉnh sửa** rồi chọn các trường khác nhau.</span><span class="sxs-lookup"><span data-stu-id="091cd-270">**Change rule conditions** by selecting **Edit** and choose different fields.</span></span>

- <span data-ttu-id="091cd-271">**Hủy kích hoạt quy tắc** để giữ lại quy tắc đối sánh trong khi loại trừ nó khỏi quá trình đối sánh.</span><span class="sxs-lookup"><span data-stu-id="091cd-271">**Deactivate a rule** to retain a match rule while excluding it from the matching process.</span></span>

- <span data-ttu-id="091cd-272">**Sao chép các quy tắc** nếu bạn đã xác định quy tắc so khớp và muốn tạo quy tắc tương tự có sửa đổi, hãy chọn **Sao chép**.</span><span class="sxs-lookup"><span data-stu-id="091cd-272">**Duplicate your rules** if you've defined a match rule and would like to create a similar rule with modifications, select **Duplicate**.</span></span>

- <span data-ttu-id="091cd-273">**Xóa quy tắc** bằng cách chọn biểu tượng **Xóa**.</span><span class="sxs-lookup"><span data-stu-id="091cd-273">**Delete a rule** by selecting the **Delete** symbol.</span></span>

## <a name="specify-custom-match-conditions"></a><span data-ttu-id="091cd-274">Chỉ định các điều kiện đối sánh tùy chỉnh</span><span class="sxs-lookup"><span data-stu-id="091cd-274">Specify custom match conditions</span></span>

<span data-ttu-id="091cd-275">Bạn có thể chỉ định các điều kiện mà hồ sơ phải luôn khớp hoặc không bao giờ khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-275">You can specify conditions that certain records should always match or never match.</span></span> <span data-ttu-id="091cd-276">Các quy tắc này có thể được tải lên để ghi đè quy trình đối sánh tiêu chuẩn.</span><span class="sxs-lookup"><span data-stu-id="091cd-276">These rules can be uploaded to override the standard match process.</span></span> <span data-ttu-id="091cd-277">Ví dụ: nếu có John Doe I và John Doe II trong hồ sơ của chúng tôi, hệ thống có thể khớp chúng với tư cách là một người.</span><span class="sxs-lookup"><span data-stu-id="091cd-277">For example, if there are John Doe I and John Doe II in our records, the system might match them as one person.</span></span> <span data-ttu-id="091cd-278">Quy tắc đối sánh tùy chỉnh cho phép bạn chỉ định rằng hồ sơ của họ đề cập đến những người khác nhau.</span><span class="sxs-lookup"><span data-stu-id="091cd-278">Custom match rules let you specify that their profiles refer to different people.</span></span> 

1. <span data-ttu-id="091cd-279">Chuyển đến **Dữ liệu** > **Hợp nhất** > **Đối sánh** rồi chọn **So khớp tùy chỉnh** trong phần **Chi tiết bản khi đối sánh**.</span><span class="sxs-lookup"><span data-stu-id="091cd-279">Go to **Data** > **Unify** > **Match** and select **Custom match** in the **Matched records details** section.</span></span>

  :::image type="content" source="media/custom-match-create.png" alt-text="Ảnh chụp màn hình của phần Chi tiết bản ghi phù hợp có kiểm soát để thêm các quy tắc được đánh dấu.":::

1. <span data-ttu-id="091cd-281">Nếu bạn chưa đặt quy tắc đối sánh tùy chỉnh, bạn sẽ thấy ngăn **Đối sánh tùy chỉnh** với nhiều chi tiết hơn.</span><span class="sxs-lookup"><span data-stu-id="091cd-281">If you have no custom match rules set, you'll see a new **Custom match** pane with more details.</span></span>

1. <span data-ttu-id="091cd-282">Chọn **Điền vào mẫu** để có được một tệp mẫu có thể chỉ định các bản ghi mà từ đó các thực thể phải luôn khớp hoặc không bao giờ khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-282">Select **Fill in the template** to get a template file that can specify which records from which entities should always match or never match.</span></span> <span data-ttu-id="091cd-283">Bạn sẽ cần điền riêng vào các bản ghi "luôn khớp" và các bản ghi "không bao giờ khớp" trong hai tệp khác nhau.</span><span class="sxs-lookup"><span data-stu-id="091cd-283">You'll need to separately fill in the "always match" records and "never match" records in two different files.</span></span>

1. <span data-ttu-id="091cd-284">Mẫu chứa các trường để chỉ định thực thể và các giá trị khóa chính của thực thể sẽ được sử dụng trong đối sánh tùy chỉnh.</span><span class="sxs-lookup"><span data-stu-id="091cd-284">The template contains fields to specify the entity and the entity primary key values to be used in the custom match.</span></span> <span data-ttu-id="091cd-285">Ví dụ: nếu bạn muốn khóa chính *12345* từ thực thể *Bán hàng* để luôn so khớp với khóa chính *34567* từ thực thể *Liên hệ*, hãy điền vào mẫu:</span><span class="sxs-lookup"><span data-stu-id="091cd-285">For example, if you want primary key *12345* from *Sales* entity to always match with primary key *34567* from *Contact* entity, fill in the template:</span></span>
    - <span data-ttu-id="091cd-286">Thực thể 1: Bán hàng</span><span class="sxs-lookup"><span data-stu-id="091cd-286">Entity1: Sales</span></span>
    - <span data-ttu-id="091cd-287">Entity1Key: 12345</span><span class="sxs-lookup"><span data-stu-id="091cd-287">Entity1Key: 12345</span></span>
    - <span data-ttu-id="091cd-288">Thực thể 2: Người liên hệ</span><span class="sxs-lookup"><span data-stu-id="091cd-288">Entity2: Contact</span></span>
    - <span data-ttu-id="091cd-289">Entity2Key: 34567</span><span class="sxs-lookup"><span data-stu-id="091cd-289">Entity2Key: 34567</span></span>

   <span data-ttu-id="091cd-290">Cùng một tệp mẫu có thể chỉ định các bản ghi so khớp tùy chỉnh từ nhiều thực thể.</span><span class="sxs-lookup"><span data-stu-id="091cd-290">The same template file can specify custom match records from multiple entities.</span></span>
   
   <span data-ttu-id="091cd-291">Nếu bạn muốn chỉ định quá trình đối sánh tùy chỉnh để loại bỏ trùng lặp trên một thực thể, hãy cung cấp cùng một thực thể cho cả Entity1 và Entity2 rồi đặt các giá trị khóa chính khác nhau.</span><span class="sxs-lookup"><span data-stu-id="091cd-291">If you want to specify custom matching for deduplication on an entity, provide the same entity as both Entity1 and Entity2 and set the different primary key values.</span></span>

1. <span data-ttu-id="091cd-292">Sau khi thêm tất cả các phần ghi đè bạn muốn áp dụng, hãy lưu tệp mẫu.</span><span class="sxs-lookup"><span data-stu-id="091cd-292">After adding all the overrides you want to apply, save the template file.</span></span>

1. <span data-ttu-id="091cd-293">Đi tới **Dữ liệu** > **Nguồn dữ liệu** và nhập các tệp mẫu dưới dạng thực thể mới.</span><span class="sxs-lookup"><span data-stu-id="091cd-293">Go to **Data** > **Data sources** and ingest the template files as new entities.</span></span> <span data-ttu-id="091cd-294">Sau khi nhập, bạn có thể sử dụng chúng để chỉ định cấu hình So khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-294">Once ingested, you can use them to specify the Match configuration.</span></span>

1. <span data-ttu-id="091cd-295">Sau khi tải lên các tệp và thực thể có sẵn, chọn tùy chọn **So khớp tùy chỉnh** một lần nữa.</span><span class="sxs-lookup"><span data-stu-id="091cd-295">After uploading the files and entities are available, select the **Custom match** option again.</span></span> <span data-ttu-id="091cd-296">Bạn sẽ thấy các tùy chọn để chỉ định các thực thể bạn muốn bao gồm.</span><span class="sxs-lookup"><span data-stu-id="091cd-296">You'll see options to specify the entities you want to include.</span></span> <span data-ttu-id="091cd-297">Chọn thực thể bắt buộc từ menu thả xuống.</span><span class="sxs-lookup"><span data-stu-id="091cd-297">Select the required entities from the drop-down menu.</span></span>

   :::image type="content" source="media/custom-match-overrides.png" alt-text="Ảnh chụp màn hình hộp thoại để chọn ghi đè cho tình huống đối sánh tùy chỉnh.":::

1. <span data-ttu-id="091cd-299">Chọn các thực thể bạn muốn sử dụng cho **Luôn so khớp** và **Không bao giờ khớp**, chọn **Xong**.</span><span class="sxs-lookup"><span data-stu-id="091cd-299">Select the entities you want to use for **Always match** and **Never match**, select **Done**.</span></span>

1. <span data-ttu-id="091cd-300">Chọn **Lưu** trên trang **Đối sánh** để áp dụng cấu hình đối sánh tùy chỉnh.</span><span class="sxs-lookup"><span data-stu-id="091cd-300">Select **Save** on the **Match** page to apply the custom match configuration.</span></span>

1. <span data-ttu-id="091cd-301">Chọn **Chạy** trên trang **So khớp** để bắt đầu quy trình so khớp.</span><span class="sxs-lookup"><span data-stu-id="091cd-301">Select **Run** on the **Match** page to start the matching process.</span></span> <span data-ttu-id="091cd-302">Các quy tắc đối sánh được chỉ định khác bị ghi đè bởi cấu hình đối sánh tùy chỉnh.</span><span class="sxs-lookup"><span data-stu-id="091cd-302">Other specified match rules are overridden by the custom match configuration.</span></span>

> [!TIP]
> <span data-ttu-id="091cd-303">Chuyển đến **Dữ liệu** > **Thực thể** và xem lại thực thể **ConflationMatchPair** để xác nhận rằng đã áp dụng giá trị ghi đè.</span><span class="sxs-lookup"><span data-stu-id="091cd-303">Go to **Data** > **Entities** and review the **ConflationMatchPair** entity to confirm that the overrides are applied.</span></span>

## <a name="next-step"></a><span data-ttu-id="091cd-304">Bước tiếp theo</span><span class="sxs-lookup"><span data-stu-id="091cd-304">Next step</span></span>

<span data-ttu-id="091cd-305">Sau khi hoàn thành quy trình đối sánh cho ít nhất một cặp đối sánh, bạn có thể giải quyết các mâu thuẫn có thể có trong dữ liệu của mình bằng cách tham khảo chủ đề [**Hợp nhất**](merge-entities.md).</span><span class="sxs-lookup"><span data-stu-id="091cd-305">After completing the match process for at least one match pair, you may resolve possible contradictions in your data by going through the [**Merge**](merge-entities.md) topic.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]

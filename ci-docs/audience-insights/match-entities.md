---
title: So khớp các thực thể để hợp nhất dữ liệu
description: So khớp các thực thể để tạo hồ sơ khách hàng hợp nhất.
ms.date: 10/14/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: m-hartmann
ms.author: mhart
ms.reviewer: adkuppa
manager: shellyha
ms.openlocfilehash: 05afd17b7f1b34f7f24a8fa8cb2dc32c1649d40f
ms.sourcegitcommit: 139548f8a2d0f24d54c4a6c404a743eeeb8ef8e0
ms.translationtype: HT
ms.contentlocale: vi-VN
ms.lasthandoff: 02/15/2021
ms.locfileid: "5267504"
---
# <a name="match-entities"></a><span data-ttu-id="6cef7-103">So khớp thực thể</span><span class="sxs-lookup"><span data-stu-id="6cef7-103">Match entities</span></span>

<span data-ttu-id="6cef7-104">Sau khi hoàn thành giai đoạn ánh xạ, bạn đã sẵn sàng để so khớp với các thực thể của mình.</span><span class="sxs-lookup"><span data-stu-id="6cef7-104">After completing the map phase, you're ready to match your entities.</span></span> <span data-ttu-id="6cef7-105">Giai đoạn so khớp chỉ định cách kết hợp bộ dữ liệu của bạn vào bộ dữ liệu hồ sơ khách hàng hợp nhất.</span><span class="sxs-lookup"><span data-stu-id="6cef7-105">The match phase specifies how to combine your datasets into a unified customer profile dataset.</span></span> <span data-ttu-id="6cef7-106">Giai đoạn so khớp cần ít nhất [hai thực thể ánh xạ](map-entities.md).</span><span class="sxs-lookup"><span data-stu-id="6cef7-106">The match phase requires at least [two mapped entities](map-entities.md).</span></span>

## <a name="specify-the-match-order"></a><span data-ttu-id="6cef7-107">Chỉ định thứ tự so khớp</span><span class="sxs-lookup"><span data-stu-id="6cef7-107">Specify the match order</span></span>

<span data-ttu-id="6cef7-108">Truy cập **Dữ liệu** > **Unify** > **So khớp** rồi chọn **Đặt thứ tự** để bắt đầu giai đoạn so khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-108">Go to **Data** > **Unify** > **Match** and select **Set order** to start the match phase.</span></span>

<span data-ttu-id="6cef7-109">Mỗi lần so khớp sẽ hợp nhất hai hoặc nhiều thực thể thành một thực thể, trong khi vẫn duy trì từng hồ sơ khách hàng duy nhất.</span><span class="sxs-lookup"><span data-stu-id="6cef7-109">Each match unifies two or more entities into a single entity, while persisting each unique customer record.</span></span> <span data-ttu-id="6cef7-110">Trong ví dụ sau, chúng tôi đã chọn 3 thực thể: **ContactCSV: TestData** làm thực thể **Chính**, **WebAccountCSV: TestData** làm **Thực thể 2** và **CallRecordSmall: TestData** làm **Thực thể 3**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-110">In the following example, we selected three entities: **ContactCSV: TestData** as the **Primary** entity, **WebAccountCSV: TestData** as **Entity 2**, and **CallRecordSmall: TestData** as **Entity 3**.</span></span> <span data-ttu-id="6cef7-111">Sơ đồ phía trên các lựa chọn minh họa cách thực hiện thứ tự so khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-111">The diagram above the selections illustrates how the match order will be executed.</span></span>

> [!div class="mx-imgBorder"]
> <span data-ttu-id="6cef7-112">![Chỉnh sửa thứ tự so khớp dữ liệu](media/configure-data-match-order-edit-page.png "Chỉnh sửa thứ tự so khớp dữ liệu")</span><span class="sxs-lookup"><span data-stu-id="6cef7-112">![Edit the data match order](media/configure-data-match-order-edit-page.png "Edit the data match order")</span></span>
  
<span data-ttu-id="6cef7-113">Thực thể **Chính** được so khớp với **Thực thể 2**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-113">The **Primary** entity is matched with **Entity 2**.</span></span> <span data-ttu-id="6cef7-114">Tập dữ liệu thu được từ lần so khớp đầu tiên được so khớp với **Thực thể 3**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-114">The dataset that results from the first match is matched with **Entity 3**.</span></span>
<span data-ttu-id="6cef7-115">Trong ví dụ này, chúng tôi chỉ chọn hai lượt so khớp, nhưng hệ thống có thể hỗ trợ nhiều hơn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-115">In this example, we only selected two matches, but the system can support more.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6cef7-116">Thực thể mà bạn chọn làm thực thể **Sơ cấp** sẽ làm cơ sở cho tập dữ liệu chính thống nhất của bạn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-116">The entity that you choose as your **Primary** entity will serve as the basis for your unified master dataset.</span></span> <span data-ttu-id="6cef7-117">Các thực thể bổ sung được chọn trong giai đoạn so khớp sẽ được thêm vào thực thể này.</span><span class="sxs-lookup"><span data-stu-id="6cef7-117">Additional entities that are selected during the match phase will be added to this entity.</span></span> <span data-ttu-id="6cef7-118">Đồng thời, điều này không có nghĩa là thực thể hợp nhất sẽ bao gồm *tất cả* dữ liệu bao gồm trong thực thể này.</span><span class="sxs-lookup"><span data-stu-id="6cef7-118">At the same time, this doesn't mean that the unified entity will include *all* of the data included in this entity.</span></span>
>
> <span data-ttu-id="6cef7-119">Có hai cân nhắc có thể giúp bạn chọn phân cấp của các thực thể:</span><span class="sxs-lookup"><span data-stu-id="6cef7-119">There are two considerations that can help you choose the hierarchy of your entities:</span></span>
>
> - <span data-ttu-id="6cef7-120">Bạn coi thực thể nào là có dữ liệu đầy đủ và đáng tin cậy nhất về khách hàng?</span><span class="sxs-lookup"><span data-stu-id="6cef7-120">What entity do you consider having the most complete and reliable data about your customers?</span></span>
> - <span data-ttu-id="6cef7-121">Thực thể mà bạn vừa xác định có các thuộc tính giống các thực thể khác (ví dụ: tên, số điện thoại hoặc địa chỉ email) không?</span><span class="sxs-lookup"><span data-stu-id="6cef7-121">Does the entity that you just identified have attributes that are also shared by other entities (for example, name, phone number, or email address)?</span></span> <span data-ttu-id="6cef7-122">Nếu không, hãy chọn thực thể đáng tin cậy thứ hai của bạn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-122">If not, choose your second most reliable entity.</span></span>

<span data-ttu-id="6cef7-123">Chọn **Hoàn tất** để lưu thứ tự so khớp của bạn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-123">Select **Done** to save your match order.</span></span>

## <a name="define-rules-for-your-first-match-pair"></a><span data-ttu-id="6cef7-124">Xác định quy tắc cho cặp so khớp đầu tiên của bạn</span><span class="sxs-lookup"><span data-stu-id="6cef7-124">Define rules for your first match pair</span></span>

<span data-ttu-id="6cef7-125">Sau khi chỉ định thứ tự so khớp, bạn sẽ thấy các kết quả khớp được xác định trên trang **So khớp**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-125">After specifying the match order, you'll see the defined matches on the **Match** page.</span></span> <span data-ttu-id="6cef7-126">Các lát ở đầu màn hình sẽ trống cho đến khi bạn chạy thứ tự so khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-126">The tiles at the top of the screen will be empty until you run your match order.</span></span>

> [!div class="mx-imgBorder"]
> <span data-ttu-id="6cef7-127">![Xác định quy tắc](media/configure-data-match-need-rules.png "Xác định quy tắc")</span><span class="sxs-lookup"><span data-stu-id="6cef7-127">![Define rules](media/configure-data-match-need-rules.png "Define rules")</span></span>

<span data-ttu-id="6cef7-128">Cảnh báo **Cần quy tắc** cho thấy rằng chưa xác định quy tắc so khớp cho một cặp so khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-128">The **Needs Rules** warning suggests that no match rule is defined for a match pair.</span></span> <span data-ttu-id="6cef7-129">Quy tắc so khớp sẽ chỉ định logic mà một cặp thực thể cụ thể sẽ được so khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-129">Match rules specify the logic by which a specific pair of entities will be matched.</span></span>

1. <span data-ttu-id="6cef7-130">Để xác định quy tắc đầu tiên của bạn, hãy mở ngăn **Định nghĩa quy tắc** bằng cách chọn hàng so khớp tương ứng trong bảng so khớp (1) và sau đó chọn **Tạo quy tắc mới** (2).</span><span class="sxs-lookup"><span data-stu-id="6cef7-130">To define your first rule, open the **Rule Definition** pane by selecting the corresponding match row in the matches table (1) and then selecting **Create new rule** (2).</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="6cef7-131">![Tạo quy tắc mới](media/configure-data-match-new-rule2.png "Tạo quy tắc mới")</span><span class="sxs-lookup"><span data-stu-id="6cef7-131">![Create new rule](media/configure-data-match-new-rule2.png "Create new rule")</span></span>

2. <span data-ttu-id="6cef7-132">Trong ngăn **Chỉnh sửa quy tắc**, đặt cấu hình các điều kiện cho quy tắc đó.</span><span class="sxs-lookup"><span data-stu-id="6cef7-132">In the **Edit Rule** pane, configure the conditions for that rule.</span></span> <span data-ttu-id="6cef7-133">Mỗi điều kiện được đại diện bởi hai hàng bao gồm các lựa chọn bắt buộc.</span><span class="sxs-lookup"><span data-stu-id="6cef7-133">Each condition is represented by two rows that include mandatory selections.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="6cef7-134">![Ngăn quy tắc mới](media/configure-data-match-new-rule-condition.png "Ngăn quy tắc mới")</span><span class="sxs-lookup"><span data-stu-id="6cef7-134">![New rule pane](media/configure-data-match-new-rule-condition.png "New rule pane")</span></span>

   <span data-ttu-id="6cef7-135">Thực thể/Trường (đầu tiên) - Một thuộc tính sẽ được sử dụng để so khớp từ thực thể cặp so khớp đầu tiên.</span><span class="sxs-lookup"><span data-stu-id="6cef7-135">Entity/Field (first) - An attribute that will be used for matching from the first match pair entity.</span></span> <span data-ttu-id="6cef7-136">Ví dụ có thể bao gồm một số điện thoại hoặc địa chỉ email.</span><span class="sxs-lookup"><span data-stu-id="6cef7-136">Examples could include a phone number or email address.</span></span> <span data-ttu-id="6cef7-137">Chọn một thuộc tính có khả năng là thuộc tính duy nhất cho khách hàng.</span><span class="sxs-lookup"><span data-stu-id="6cef7-137">Choose an attribute that is likely to be unique to the customer.</span></span>

   > [!TIP]
   > <span data-ttu-id="6cef7-138">Tránh so khớp trên cơ sở các thuộc tính thuộc loại hoạt động.</span><span class="sxs-lookup"><span data-stu-id="6cef7-138">Avoid matching on the basis of activity-type attributes.</span></span> <span data-ttu-id="6cef7-139">Nói cách khác, nếu một thuộc tính có vẻ là một hoạt động, thì đó có thể là một tiêu chí không phù hợp để so khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-139">In other words, if an attribute seems to be an activity, then it might be a poor criteria to match by.</span></span>  

   <span data-ttu-id="6cef7-140">Thực thể/Trường (Thứ hai) - Một thuộc tính sẽ được sử dụng để so khớp từ thực thể cặp so khớp thứ hai.</span><span class="sxs-lookup"><span data-stu-id="6cef7-140">Entity/Field (Second) - An attribute that will be used for matching from the second match pair entity.</span></span>

   <span data-ttu-id="6cef7-141">Chuẩn hóa - **Phương pháp chuẩn hóa**: Tùy chọn chuẩn hóa khác nhau có sẵn cho các thuộc tính được chọn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-141">Normalize - **Normalization method**: Various normalization options are available for the selected attributes.</span></span> <span data-ttu-id="6cef7-142">Ví dụ: xóa dấu chấm câu hoặc xóa khoảng trắng</span><span class="sxs-lookup"><span data-stu-id="6cef7-142">For example, removing punctuation or removing spaces</span></span>

   <span data-ttu-id="6cef7-143">Để chuẩn hóa tên Tổ chức (Xem trước), bạn cũng có thể chọn **Loại (Điện thoại, Tên, Tổ chức)**</span><span class="sxs-lookup"><span data-stu-id="6cef7-143">For Organization name normalization (Preview), you can also select **Type (Phone, Name, Organization)**</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="6cef7-144">![Chuẩn hóa-B2B](media/match-normalization-b2b.png "Chuẩn hóa-B2B")</span><span class="sxs-lookup"><span data-stu-id="6cef7-144">![Normalization-B2B](media/match-normalization-b2b.png "Normalization-B2B")</span></span>

   <span data-ttu-id="6cef7-145">Mức chính xác - Mức độ chính xác sẽ được sử dụng cho điều kiện này.</span><span class="sxs-lookup"><span data-stu-id="6cef7-145">Precision level - The level of precision that will be used for this condition.</span></span> <span data-ttu-id="6cef7-146">Việc đặt mức chính xác cho điều kiện khớp có thể có hai loại: **Cơ bản** và **Tùy chỉnh**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-146">Setting a precision level for a match condition can have two types: **Basic** and **Custom**.</span></span>  
   - <span data-ttu-id="6cef7-147">Cơ bản: Cung cấp cho bạn bốn tùy chọn để chọn: Thấp, Trung bình, Cao và Chính xác.</span><span class="sxs-lookup"><span data-stu-id="6cef7-147">Basic: Provides you with four options to select from: Low, Medium, High, and Exact.</span></span> <span data-ttu-id="6cef7-148">Chọn **Chính xác** để chỉ so khớp các bản ghi khớp 100%.</span><span class="sxs-lookup"><span data-stu-id="6cef7-148">Select **Exact** to only match records that that match 100 percent.</span></span> <span data-ttu-id="6cef7-149">Chọn một trong các cấp độ khác để khớp với các bản ghi không giống nhau 100%.</span><span class="sxs-lookup"><span data-stu-id="6cef7-149">Select one of the other levels to match records that aren't 100 percent identical.</span></span>
   - <span data-ttu-id="6cef7-150">Tùy chỉnh: Sử dụng thanh trượt để xác định tỷ lệ phần trăm tùy chỉnh mà bản ghi cần khớp hoặc nhập giá trị trong trường **Tùy chỉnh**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-150">Custom: Use the slider to define the custom percentage that records need to match or enter a value in the **Custom** field.</span></span> <span data-ttu-id="6cef7-151">Hệ thống sẽ chỉ khớp các bản ghi vượt qua ngưỡng này dưới dạng các cặp đối sánh cần hợp nhất làm một.</span><span class="sxs-lookup"><span data-stu-id="6cef7-151">The system will only match records passing this threshold as conflated match pairs.</span></span> <span data-ttu-id="6cef7-152">Giá trị trên thanh trượt nằm trong khoảng từ 0 đến 1.</span><span class="sxs-lookup"><span data-stu-id="6cef7-152">Values on the slider are between 0 and 1.</span></span> <span data-ttu-id="6cef7-153">Vì vậy, 0,64 đại diện cho 64%.</span><span class="sxs-lookup"><span data-stu-id="6cef7-153">So 0.64 represents 64 percent.</span></span>

3. <span data-ttu-id="6cef7-154">Chọn **Hoàn tất** để lưu quy tắc.</span><span class="sxs-lookup"><span data-stu-id="6cef7-154">Select **Done** to save the rule.</span></span>

### <a name="add-multiple-conditions"></a><span data-ttu-id="6cef7-155">Thêm nhiều điều kiện</span><span class="sxs-lookup"><span data-stu-id="6cef7-155">Add multiple conditions</span></span>

<span data-ttu-id="6cef7-156">Để chỉ khớp các thực thể khi đáp ứng nhiều điều kiện, hãy thêm nhiều điều kiện được liên kết thông qua toán tử AND.</span><span class="sxs-lookup"><span data-stu-id="6cef7-156">To match your entities only if multiple conditions are met, add more conditions that are linked through an AND operator.</span></span>

1. <span data-ttu-id="6cef7-157">Trong ngăn **Chỉnh sửa quy tắc**, chọn **Thêm điều kiện**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-157">In the **Edit rule** pane, select **Add condition**.</span></span> <span data-ttu-id="6cef7-158">Bạn cũng có thể xóa các điều kiện bằng cách chọn nút xóa bên cạnh một điều kiện hiện có.</span><span class="sxs-lookup"><span data-stu-id="6cef7-158">You can also delete conditions by selecting the remove button next to an existing condition.</span></span>

2. <span data-ttu-id="6cef7-159">Chọn **Hoàn tất** để lưu quy tắc.</span><span class="sxs-lookup"><span data-stu-id="6cef7-159">Select **Done** so save the rule.</span></span>

## <a name="add-multiple-rules"></a><span data-ttu-id="6cef7-160">Thêm nhiều quy tắc</span><span class="sxs-lookup"><span data-stu-id="6cef7-160">Add multiple rules</span></span>

<span data-ttu-id="6cef7-161">Mỗi điều kiện áp dụng cho một cặp thuộc tính, trong khi quy tắc đại diện cho các bộ điều kiện.</span><span class="sxs-lookup"><span data-stu-id="6cef7-161">Each condition applies to a single pair of attributes, while rules represent sets of conditions.</span></span> <span data-ttu-id="6cef7-162">Để so khớp các thực thể theo các bộ thuộc tính khác nhau, bạn có thể thêm nhiều quy tắc.</span><span class="sxs-lookup"><span data-stu-id="6cef7-162">To have your entities matched by different sets of attributes, you can add more rules.</span></span>

1. <span data-ttu-id="6cef7-163">Trong thông tin chi tiết về đối tượng, hãy chuyển đến **Dữ liệu** > **Hợp nhất** > **So khớp**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-163">In audience insights, go to **Data** > **Unify** > **Match**.</span></span>

2. <span data-ttu-id="6cef7-164">Chọn thực thể bạn muốn cập nhật và chọn **Thêm quy tắc**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-164">Select the entity you want to update and select **Add rules**.</span></span>

3. <span data-ttu-id="6cef7-165">Làm theo quy trình nêu trong [Xác định quy tắc cho cặp so khớp đầu tiên](#define-rules-for-your-first-match-pair).</span><span class="sxs-lookup"><span data-stu-id="6cef7-165">Follow the procedure as outlined in [Define rules for your first match pair](#define-rules-for-your-first-match-pair).</span></span>

> [!NOTE]
> <span data-ttu-id="6cef7-166">Thứ tự quy tắc đóng vai trò quan trọng.</span><span class="sxs-lookup"><span data-stu-id="6cef7-166">The rule order matters.</span></span> <span data-ttu-id="6cef7-167">Thuật toán so khớp cố gắng khớp trên cơ sở quy tắc đầu tiên của bạn và chỉ tiếp tục quy tắc thứ hai nếu không có kết quả khớp nào được xác định theo quy tắc đầu tiên.</span><span class="sxs-lookup"><span data-stu-id="6cef7-167">The matching algorithm tries to match on the basis of your first rule and continues to the second rule only if no matches were identified under the first rule.</span></span>

## <a name="define-deduplication-on-a-match-entity"></a><span data-ttu-id="6cef7-168">Xác định quy tắc chống trùng lặp trên một thực thể so khớp</span><span class="sxs-lookup"><span data-stu-id="6cef7-168">Define deduplication on a match entity</span></span>

<span data-ttu-id="6cef7-169">Cùng với việc chỉ định các quy tắc so khớp thực thể chéo như được nêu trong các phần trên, bạn cũng có thể chỉ định các quy tắc chống trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-169">Along with specifying cross entity matching rules as outlined in the above sections, you can also specify deduplications rules.</span></span> <span data-ttu-id="6cef7-170">*Chống trùng lặp* là một quy trình.</span><span class="sxs-lookup"><span data-stu-id="6cef7-170">*Deduplication* is a process.</span></span> <span data-ttu-id="6cef7-171">Quy tắc này xác định các bản ghi trùng lặp, hợp nhất chúng thành một bản ghi và liên kết tất cả các bản ghi nguồn với bản ghi đã hợp nhất này với các ID thay thế với bản ghi đã hợp nhất.</span><span class="sxs-lookup"><span data-stu-id="6cef7-171">It identifies duplicate records, merges them into one record, and links all the source records to this merged record with alternate IDs to the merged record.</span></span>

<span data-ttu-id="6cef7-172">Sau khi xác định được bản ghi chống trùng lặp, bản ghi đó sẽ được sử dụng trong quá trình so khớp thực thể chéo.</span><span class="sxs-lookup"><span data-stu-id="6cef7-172">After a deduplicated record is identified, that record will be used in the cross-entity matching process.</span></span> <span data-ttu-id="6cef7-173">Quy tắc chống trùng lặp được triển khai ở cấp thực thể và có thể được áp dụng cho mọi thực thể được sử dụng trong quy trình So khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-173">Deduplication is implemented at the entity level and can be applied to every entity used in the Match process.</span></span>

### <a name="add-deduplication-rules"></a><span data-ttu-id="6cef7-174">Thêm quy tắc chống trùng lặp</span><span class="sxs-lookup"><span data-stu-id="6cef7-174">Add deduplication rules</span></span>

1. <span data-ttu-id="6cef7-175">Trong thông tin chi tiết về đối tượng, hãy chuyển đến **Dữ liệu** > **Hợp nhất** > **So khớp**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-175">In audience insights, go to **Data** > **Unify** > **Match**.</span></span>

1. <span data-ttu-id="6cef7-176">Trong phần **Bản trùng lặp đã hợp nhất**, chọn **Đặt thực thể**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-176">In the **Merged duplicates** section, select **Set entities**.</span></span>

1. <span data-ttu-id="6cef7-177">Trong phần **Hợp nhất các tùy chọn**, chọn các thực thể bạn muốn áp dụng quy tắc chống trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-177">In the **Merge preferences** section, select the entities you want to apply deduplication to.</span></span>

1. <span data-ttu-id="6cef7-178">Chỉ định cách hợp nhất các bản ghi trùng lặp và chọn một trong ba tùy chọn hợp nhất:</span><span class="sxs-lookup"><span data-stu-id="6cef7-178">Specify how to merge the duplicate records and choose one of three merge options:</span></span>
   - <span data-ttu-id="6cef7-179">*Điền nhiều nhất*: Xác định bản ghi có các thuộc tính được điền nhiều nhất là bản ghi chiến thắng.</span><span class="sxs-lookup"><span data-stu-id="6cef7-179">*Most filled*: Identifies the record with most filled attributes as the winner record.</span></span> <span data-ttu-id="6cef7-180">Đây là tùy chọn trộn mặc định.</span><span class="sxs-lookup"><span data-stu-id="6cef7-180">This is the default merge option.</span></span>
   - <span data-ttu-id="6cef7-181">*Gần đây nhất*: Xác định bản ghi chiến thắng dựa trên lần truy cập gần đây nhất.</span><span class="sxs-lookup"><span data-stu-id="6cef7-181">*Most recent*: Identifies the winner record based on the most recency.</span></span> <span data-ttu-id="6cef7-182">Yêu cầu ngày hoặc trường số để xác định lần truy cập gần đây.</span><span class="sxs-lookup"><span data-stu-id="6cef7-182">Requires a date or a numeric field to define the recency.</span></span>
   - <span data-ttu-id="6cef7-183">*Cách đây xa nhất*: Xác định bản ghi chiến thắng dựa trên lần truy cập cách đây xa nhất.</span><span class="sxs-lookup"><span data-stu-id="6cef7-183">*Least recent*: Identifies the winner record based on the least recency.</span></span> <span data-ttu-id="6cef7-184">Yêu cầu ngày hoặc trường số để xác định lần truy cập gần đây.</span><span class="sxs-lookup"><span data-stu-id="6cef7-184">Requires a date or a numeric field to define the recency.</span></span>
 
   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="6cef7-185">![Quy tắc chống trùng lặp bước 1](media/match-selfconflation.png "Quy tắc chống trùng lặp bước 1")</span><span class="sxs-lookup"><span data-stu-id="6cef7-185">![Deduplication rules step 1](media/match-selfconflation.png "Deduplication rules step 1")</span></span>
 
1. <span data-ttu-id="6cef7-186">Sau khi các thực thể được chọn và tùy chọn trộn của chúng được đặt, hãy chọn **Tạo quy tắc mới** để xác định các quy tắc chống trùng lặp ở cấp thực thể.</span><span class="sxs-lookup"><span data-stu-id="6cef7-186">Once the entities are selected and their merge preference is set, select **Create new rule** to define the deduplication rules at an entity level.</span></span>
   - <span data-ttu-id="6cef7-187">**Chọn trường** liệt kê tất cả các trường có sẵn từ thực thể mà bạn muốn chống trùng lặp dữ liệu nguồn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-187">**Select field** lists all the available fields from that entity you want to deduplicate source data on.</span></span>
   - <span data-ttu-id="6cef7-188">Chỉ định cài đặt chuẩn hóa và độ chính xác theo cách tương tự như được chỉ định trong so khớp thực thể chéo.</span><span class="sxs-lookup"><span data-stu-id="6cef7-188">Specify the normalization and precision settings in similar way as specified in the cross entity matching.</span></span>
   - <span data-ttu-id="6cef7-189">Bạn có thể xác định các điều kiện bổ sung bằng cách chọn **Thêm điều kiện**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-189">You can define additional conditions by selecting **Add condition**.</span></span>
 
   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="6cef7-190">![Quy tắc chống trùng lặp bước 2](media/match-selfconflation-rules.png "Quy tắc chống trùng lặp bước 2")</span><span class="sxs-lookup"><span data-stu-id="6cef7-190">![Deduplication rules step 2](media/match-selfconflation-rules.png "Deduplication rules step 2")</span></span>

  <span data-ttu-id="6cef7-191">Bạn có thể tạo nhiều quy tắc chống trùng lặp cho một thực thể.</span><span class="sxs-lookup"><span data-stu-id="6cef7-191">You can create multiple deduplication rules for an entity.</span></span> 

1. <span data-ttu-id="6cef7-192">Chạy quy trình so khớp hiện sẽ nhóm các bản ghi dựa trên các điều kiện được xác định trong quy tắc chống trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-192">Running the match process now groups the records based on the conditions defined in the deduplication rules.</span></span> <span data-ttu-id="6cef7-193">Sau khi nhóm các bản ghi, chính sách trộn được áp dụng để xác định bản ghi chiến thắng.</span><span class="sxs-lookup"><span data-stu-id="6cef7-193">After grouping the records, the merge policy is applied to identify the winner record.</span></span>

1. <span data-ttu-id="6cef7-194">Sau đó, hồ sơ chiến thắng này được chuyển cho quy trình đối sánh giữa các thực thể, cùng với hồ sơ không chiến thắng (ví dụ: ID thay thế) để cải thiện chất lượng đối sánh.</span><span class="sxs-lookup"><span data-stu-id="6cef7-194">This winner record is then passed on to the cross-entity matching, along with the non-winner records (for example, alternate IDs) to improve the matching quality.</span></span>

1. <span data-ttu-id="6cef7-195">Bất kỳ quy tắc so khớp tùy chỉnh nào được xác định luôn so khớp và không bao giờ so khớp sẽ được ưu tiên hơn quy tắc chống trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-195">Any custom match rules defined for always match and never match overrule deduplication rules.</span></span> <span data-ttu-id="6cef7-196">Nếu quy tắc chống trùng lặp xác định các bản ghi phù hợp và quy tắc so khớp tùy chỉnh được đặt để không bao giờ khớp với các bản ghi đó, thì hai bản ghi này sẽ không được khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-196">If a deduplication rule identifies matching records, and a custom match rule is set to never match those records, then these two records won't be matched.</span></span>

1. <span data-ttu-id="6cef7-197">Sau khi chạy quá trình so khớp, bạn sẽ thấy số liệu thống kê về chống trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-197">After running the match process, you will see the deduplication stats.</span></span>
   
> [!NOTE]
> <span data-ttu-id="6cef7-198">Việc chỉ định các quy tắc chống trùng lặp là không bắt buộc.</span><span class="sxs-lookup"><span data-stu-id="6cef7-198">Specifying deduplication rules isn't mandatory.</span></span> <span data-ttu-id="6cef7-199">Nếu không có quy tắc nào như vậy được định cấu hình, các quy tắc do hệ thống xác định sẽ được áp dụng.</span><span class="sxs-lookup"><span data-stu-id="6cef7-199">If no such rules are configured, the system-defined rules are applied.</span></span> <span data-ttu-id="6cef7-200">Chúng thu gọn tất cả các bản ghi có cùng tổ hợp giá trị (so khớp chính xác) từ khóa chính và các trường trong quy tắc so khớp thành một bản ghi duy nhất trước khi chuyển dữ liệu đối tượng sang so khớp nhiều đối tượng để nâng cao hiệu suất và độ chính xác của hệ thống.</span><span class="sxs-lookup"><span data-stu-id="6cef7-200">They collapse all records that share the same value combination (exact match) from primary key and the fields in the matching rules into a single record before passing the entity data to cross-entity matching for enhanced performance and system sanity.</span></span>

## <a name="run-your-match-order"></a><span data-ttu-id="6cef7-201">Chạy thứ tự so khớp của bạn</span><span class="sxs-lookup"><span data-stu-id="6cef7-201">Run your match order</span></span>

<span data-ttu-id="6cef7-202">Sau khi xác định các quy tắc so khớp, bao gồm so khớp nhiều thực thể và quy tắc chống trùng lặp, bạn có thể chạy lệnh so khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-202">After defining the match rules, including cross-entity matching and deduplication rules, you can run the match order.</span></span> <span data-ttu-id="6cef7-203">Trên trang **So khớp**, chọn **Chạy** để bắt đầu quy trình.</span><span class="sxs-lookup"><span data-stu-id="6cef7-203">On the **Match** page, select **Run** to start the process.</span></span> <span data-ttu-id="6cef7-204">Thuật toán so khớp có thể mất một thời gian để hoàn thành.</span><span class="sxs-lookup"><span data-stu-id="6cef7-204">The matching algorithm might take some time to complete.</span></span> <span data-ttu-id="6cef7-205">Bạn không thể thay đổi thuộc tính trên trang **So khớp** cho đến khi quá trình khớp hoàn thành.</span><span class="sxs-lookup"><span data-stu-id="6cef7-205">You can't change properties on the **Match** page until the match process completes.</span></span> <span data-ttu-id="6cef7-206">Bạn sẽ tìm thấy thực thể hồ sơ khách hàng hợp nhất đã được tạo trên trang **Các thực thể**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-206">You'll find the unified customer profile entity that was created on the **Entities** page.</span></span> <span data-ttu-id="6cef7-207">Thực thể khách hàng hợp nhất của bạn được gọi là **ConflationMatchPairs : CustomerInsights**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-207">Your unified customer entity is called **ConflationMatchPairs:CustomerInsights**.</span></span>

<span data-ttu-id="6cef7-208">Để thực hiện các thay đổi bổ sung và chạy lại bước này, bạn có thể hủy so khớp đang thực hiện.</span><span class="sxs-lookup"><span data-stu-id="6cef7-208">To make additional changes and rerun the step, you can cancel a match in progress.</span></span> <span data-ttu-id="6cef7-209">Chọn văn bản **Đang làm mới ...** rồi chọn **Hủy công việc** ở cuối ngăn bên xuất hiện.</span><span class="sxs-lookup"><span data-stu-id="6cef7-209">Select the **Refreshing ...** text and select **Cancel job** at the bottom of the side pane that appears.</span></span>

<span data-ttu-id="6cef7-210">Khi quá trình so khớp hoàn thành, văn bản **Đang làm mới ...** sẽ thay đổi thành **Thành công** và bạn có thể sử dụng tất cả chức năng của trang lần nữa.</span><span class="sxs-lookup"><span data-stu-id="6cef7-210">When the match process is complete, the **Refreshing ...** text will change to **Successful** and you can use all functionality of the page again.</span></span>

<span data-ttu-id="6cef7-211">Quá trình khớp đầu tiên sẽ tạo ra một thực thể chính hợp nhất.</span><span class="sxs-lookup"><span data-stu-id="6cef7-211">The first match process results in the creation of a unified master entity.</span></span> <span data-ttu-id="6cef7-212">Tất cả các lần chạy so khớp tiếp theo sẽ mở rộng thực thể đó.</span><span class="sxs-lookup"><span data-stu-id="6cef7-212">All subsequent match runs result in the expansion of that entity.</span></span>

> [!TIP]
> <span data-ttu-id="6cef7-213">Có [6 loại trạng thái](system.md#status-types) cho các nhiệm vụ/quy trình.</span><span class="sxs-lookup"><span data-stu-id="6cef7-213">There are [six types of status](system.md#status-types) for tasks/processes.</span></span> <span data-ttu-id="6cef7-214">Ngoài ra, hầu hết các quy trình [phụ thuộc vào các quá trình hạ nguồn khác](system.md#refresh-policies).</span><span class="sxs-lookup"><span data-stu-id="6cef7-214">Additionally, most processes [depend on other downstream processes](system.md#refresh-policies).</span></span> <span data-ttu-id="6cef7-215">Bạn có thể chọn trạng thái của một quy trình để xem chi tiết về tiến trình của toàn bộ công việc.</span><span class="sxs-lookup"><span data-stu-id="6cef7-215">You can select the status of a process to see details on the progress of the entire job.</span></span> <span data-ttu-id="6cef7-216">Sau khi chọn **Xem chi tiết** đối với một trong các tác vụ của công việc, bạn sẽ tìm thấy thông tin bổ sung: thời gian xử lý, ngày xử lý gần nhất và tất cả các lỗi và cảnh báo liên quan đến tác vụ.</span><span class="sxs-lookup"><span data-stu-id="6cef7-216">After selecting **See details** for one of the job's tasks, you find additional information: processing time, the last processing date, and all errors and warnings associated with the task.</span></span>

## <a name="deduplication-output-as-an-entity"></a><span data-ttu-id="6cef7-217">Đầu ra khử trùng lặp dưới dạng một thực thể</span><span class="sxs-lookup"><span data-stu-id="6cef7-217">Deduplication output as an entity</span></span>
<span data-ttu-id="6cef7-218">Ngoài thực thể chính hợp nhất được tạo trong quy trình đối sánh giữa các thực thể, quá trình loại bỏ trùng lặp cũng tạo ra một thực thể mới cho mọi thực thể từ yêu cầu đối sánh để xác định các bản ghi được loại bỏ trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-218">In addition to the unified master entity created as part of the cross entity matching, the deduplication process also generates a new entity for every entity from the match order to identify the deduplicated records.</span></span> <span data-ttu-id="6cef7-219">Có thể tìm thấy các thực thể này cùng với **ConflationMatchPairs:CustomerInsights** trong mục **Hệ thống** trong trang **Thực thể** với tên **Deduplication_Datasource_Entity**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-219">These entities can be found along with the **ConflationMatchPairs:CustomerInsights** in the **System** section in the **Entities** page, with the name **Deduplication_Datasource_Entity**.</span></span>

<span data-ttu-id="6cef7-220">Thực thể đầu ra loại bỏ trùng lặp chứa thông tin sau:</span><span class="sxs-lookup"><span data-stu-id="6cef7-220">A deduplication output entity contains the following information:</span></span>
- <span data-ttu-id="6cef7-221">ID/Khóa</span><span class="sxs-lookup"><span data-stu-id="6cef7-221">IDs / Keys</span></span>
  - <span data-ttu-id="6cef7-222">Trường khóa chính và trường ID thay thế của nó.</span><span class="sxs-lookup"><span data-stu-id="6cef7-222">Primary key field and its alternate IDs field.</span></span> <span data-ttu-id="6cef7-223">Trường ID thay thế bao gồm tất cả các ID thay thế được xác định cho một bản ghi.</span><span class="sxs-lookup"><span data-stu-id="6cef7-223">Alternate IDs field consists of all the alternate IDs identified for a record.</span></span>
  - <span data-ttu-id="6cef7-224">Trường Deduplication_GroupId hiển thị nhóm hoặc cụm được xác định trong một thực thể sẽ nhóm tất cả các bản ghi tương tự dựa trên các trường loại bỏ trùng lặp được chỉ định.</span><span class="sxs-lookup"><span data-stu-id="6cef7-224">Deduplication_GroupId field shows the group or cluster identified within an entity that groups all the similar records based on the specified deduplication fields.</span></span> <span data-ttu-id="6cef7-225">Tính năng này được sử dụng cho mục đích xử lý hệ thống.</span><span class="sxs-lookup"><span data-stu-id="6cef7-225">This is  used for system processing purposes.</span></span> <span data-ttu-id="6cef7-226">Nếu không có quy tắc khử trùng lặp thủ công nào được chỉ định và áp dụng quy tắc khử trùng lặp do hệ thống xác định, bạn có thể không tìm thấy trường này trong thực thể đầu ra khử trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-226">If there are no manual deduplication rules specified and system defined deduplication rules apply, you may not find this field in the deduplication output entity.</span></span>
  - <span data-ttu-id="6cef7-227">Deduplication_WinnerId: Trường này chứa ID chiến thắng từ các nhóm hoặc cụm đã xác định.</span><span class="sxs-lookup"><span data-stu-id="6cef7-227">Deduplication_WinnerId: This field contains the winner ID from the identified groups or clusters.</span></span> <span data-ttu-id="6cef7-228">Nếu Deduplication_WinnerId giống với giá trị Khóa chính của một bản ghi, điều đó có nghĩa là bản ghi đó là bản ghi chiến thắng.</span><span class="sxs-lookup"><span data-stu-id="6cef7-228">If the Deduplication_WinnerId is same as the Primary key value for a record, it means that the record is the winner record.</span></span>
- <span data-ttu-id="6cef7-229">Các trường được sử dụng để xác định các quy tắc khử trùng lặp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-229">Fields used to define the deduplication rules.</span></span>
- <span data-ttu-id="6cef7-230">Các trường Quy tắc và Điểm để biểu thị quy tắc khử trùng lặp đã được áp dụng và điểm mà thuật toán đối sánh trả về.</span><span class="sxs-lookup"><span data-stu-id="6cef7-230">Rule and Score fields to denote which of the deduplication rules got applied and the score returned by the matching algorithm.</span></span>

## <a name="review-and-validate-your-matches"></a><span data-ttu-id="6cef7-231">Xem lại và xác thực các so khớp của bạn</span><span class="sxs-lookup"><span data-stu-id="6cef7-231">Review and validate your matches</span></span>

<span data-ttu-id="6cef7-232">Đánh giá chất lượng của các cặp so khớp của bạn và tinh chỉnh nó:</span><span class="sxs-lookup"><span data-stu-id="6cef7-232">Evaluate the quality of your match pairs and refine it:</span></span>

- <span data-ttu-id="6cef7-233">Trên trang **So khớp**, bạn sẽ tìm thấy hai lát hiển thị thông tin chi tiết ban đầu về dữ liệu của bạn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-233">On the **Match** page, you'll find two tiles showing initial insights about your data.</span></span>

  - <span data-ttu-id="6cef7-234">**Khách hàng duy nhất**: hiển thị số lượng hồ sơ duy nhất mà hệ thống đã xác định.</span><span class="sxs-lookup"><span data-stu-id="6cef7-234">**Unique customers**: shows the number of unique profiles that the system identified.</span></span>
  - <span data-ttu-id="6cef7-235">**Hồ sơ đã so khớp**: hiển thị số lượng so khớp trên tất cả các cặp so khớp của bạn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-235">**Matched records**: shows the number of matches across all of your match pairs.</span></span>

- <span data-ttu-id="6cef7-236">Trong bảng **Thứ tự so khớp**, bạn có thể đánh giá kết quả của từng cặp so khớp bằng cách so sánh số lượng bản ghi xuất phát từ thực thể cặp đối sánh này với tỷ lệ phần trăm của các bản ghi được khớp thành công.</span><span class="sxs-lookup"><span data-stu-id="6cef7-236">In the **Match order** table, you can assess the results of each match pair by comparing the number of records that came from this match-pair entity against the percentage of successfully matched records.</span></span>

- <span data-ttu-id="6cef7-237">Trong phần **Quy tắc** của một thực thể trong bảng **Thứ tự khớp**, bạn sẽ tìm thấy tỷ lệ phần trăm của các bản ghi khớp thành công ở cấp quy tắc.</span><span class="sxs-lookup"><span data-stu-id="6cef7-237">In the **Rules** section of an entity in the **Match order** table, you'll find the percentage of successfully matched records at the rule level.</span></span> <span data-ttu-id="6cef7-238">Bằng cách chọn biểu tượng bảng bên cạnh quy tắc, bạn có thể xem tất cả các bản ghi này ở cấp quy tắc.</span><span class="sxs-lookup"><span data-stu-id="6cef7-238">By selecting the table symbol next to a rule, you can view all these records on the rule level.</span></span> <span data-ttu-id="6cef7-239">Chúng tôi khuyên bạn nên xem lại một tập hợp con của các bản ghi để xác thực rằng chúng được khớp chính xác.</span><span class="sxs-lookup"><span data-stu-id="6cef7-239">We recommend that you review a subset of the records to validate that they were matched correctly.</span></span>

- <span data-ttu-id="6cef7-240">Thử nghiệm với các ngưỡng chính xác khác nhau xung quanh các điều kiện của bạn để xác định giá trị tối ưu.</span><span class="sxs-lookup"><span data-stu-id="6cef7-240">Experiment with different precision thresholds around your conditions to identify the optimal value.</span></span>

  1. <span data-ttu-id="6cef7-241">Chọn dấu chấm lửng (...) cho quy tắc cặp so khớp mà bạn muốn thử nghiệm và chọn **Chỉnh sửa**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-241">Select the ellipsis (...) for the match pair rule that you want to experiment with and select **Edit**.</span></span>

  2. <span data-ttu-id="6cef7-242">Chọn điều kiện mà bạn muốn thử nghiệm.</span><span class="sxs-lookup"><span data-stu-id="6cef7-242">Select the condition that you want to experiment with.</span></span> <span data-ttu-id="6cef7-243">Mỗi tiêu chí được thể hiện bằng một hàng trong ngăn **Quy tắc khớp**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-243">Each criterion is represented by one row in the **Match rule** pane.</span></span>

  3. <span data-ttu-id="6cef7-244">Bạn sẽ thấy gì trên trang **Xem trước tiêu chí** phụ thuộc vào mức độ chính xác bạn đã chọn cho một điều kiện.</span><span class="sxs-lookup"><span data-stu-id="6cef7-244">What you'll see on the **Criteria preview** page depends on the precision level you've selected for a condition.</span></span> <span data-ttu-id="6cef7-245">Tìm số lượng hồ sơ đã khớp và chưa khớp cho điều kiện được chọn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-245">Find the number of matched and unmatched records for the selected condition.</span></span>

     <span data-ttu-id="6cef7-246">Nhận thông tin chi tiết về hiệu quả của các mức ngưỡng khác nhau.</span><span class="sxs-lookup"><span data-stu-id="6cef7-246">Get a rich understanding of the effects of different threshold levels.</span></span> <span data-ttu-id="6cef7-247">Bạn có thể so sánh số lượng bản ghi sẽ được khớp theo từng mức ngưỡng và xem các bản ghi dưới mỗi tùy chọn.</span><span class="sxs-lookup"><span data-stu-id="6cef7-247">You can compare how many records will be matched under each of the threshold levels, and view the records under each option.</span></span> <span data-ttu-id="6cef7-248">Chọn từng ô và xem lại dữ liệu trong phần bảng.</span><span class="sxs-lookup"><span data-stu-id="6cef7-248">Select each of the tiles and review the data in the table section.</span></span>

## <a name="optimize-your-matches"></a><span data-ttu-id="6cef7-249">Tối ưu hóa các so khớp của bạn</span><span class="sxs-lookup"><span data-stu-id="6cef7-249">Optimize your matches</span></span>

<span data-ttu-id="6cef7-250">Tăng chất lượng bằng cách cấu hình lại một số thông số so khớp của bạn:</span><span class="sxs-lookup"><span data-stu-id="6cef7-250">Increase the quality by reconfiguring some of your match parameters:</span></span>

- <span data-ttu-id="6cef7-251">**Thay đổi thứ tự khớp** bằng cách chọn **Chỉnh sửa** và thay đổi các trường thứ tự khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-251">**Change the match order** by selecting **Edit** and change the match order fields.</span></span>

  > [!div class="mx-imgBorder"]
  > <span data-ttu-id="6cef7-252">![Chỉnh sửa thứ tự so khớp dữ liệu](media/configure-data-match-order-edit.png "Chỉnh sửa thứ tự so khớp dữ liệu")</span><span class="sxs-lookup"><span data-stu-id="6cef7-252">![Edit data match order](media/configure-data-match-order-edit.png "Edit data match order")</span></span>

- <span data-ttu-id="6cef7-253">**Thay đổi thứ tự các quy tắc của bạn** nếu bạn đã xác định nhiều quy tắc.</span><span class="sxs-lookup"><span data-stu-id="6cef7-253">**Change the order of your rules** if you defined multiple rules.</span></span> <span data-ttu-id="6cef7-254">Bạn có thể sắp xếp lại các quy tắc khớp bằng cách chọn các tùy chọn **Di chuyển lên** và **Di chuyển xuống** trong lưới quy tắc so khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-254">You can reorder the match rules by selecting the **Move Up** and **Move Down** options in the match rules grid.</span></span>

  > [!div class="mx-imgBorder"]
  > <span data-ttu-id="6cef7-255">![Thay đổi thứ tự quy tắc](media/configure-data-change-rule-order.png "Thay đổi thứ tự quy tắc")</span><span class="sxs-lookup"><span data-stu-id="6cef7-255">![Change rule order](media/configure-data-change-rule-order.png "Change rule order")</span></span>

- <span data-ttu-id="6cef7-256">**Sao chép quy tắc của bạn** nếu bạn đã xác định quy tắc khớp và muốn tạo quy tắc tương tự với sửa đổi.</span><span class="sxs-lookup"><span data-stu-id="6cef7-256">**Duplicate your rules** if you've defined a match rule and would like to create a similar rule with modifications.</span></span> <span data-ttu-id="6cef7-257">Làm như vậy bằng cách chọn **Sao chép**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-257">Do so by selecting **Duplicate**.</span></span>

  > [!div class="mx-imgBorder"]
  > <span data-ttu-id="6cef7-258">![Sao chép quy tắc](media/configure-data-duplicate-rule.png "Sao chép quy tắc")</span><span class="sxs-lookup"><span data-stu-id="6cef7-258">![Duplicate a rule](media/configure-data-duplicate-rule.png "Duplicate a rule")</span></span>

- <span data-ttu-id="6cef7-259">**Hủy kích hoạt quy tắc** để giữ lại quy tắc đối sánh trong khi loại trừ nó khỏi quá trình đối sánh.</span><span class="sxs-lookup"><span data-stu-id="6cef7-259">**Deactivate a rule** to retain a match rule while excluding it from the matching process.</span></span>

  > [!div class="mx-imgBorder"]
  > <span data-ttu-id="6cef7-260">![Hủy kích hoạt quy tắc](media/configure-data-deactivate-rule.png "Hủy kích hoạt quy tắc")</span><span class="sxs-lookup"><span data-stu-id="6cef7-260">![Deactivate a rule](media/configure-data-deactivate-rule.png "Deactivate a rule")</span></span>

- <span data-ttu-id="6cef7-261">**Chỉnh sửa quy tắc của bạn** bằng cách chọn biểu tượng **Chỉnh sửa**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-261">**Edit your rules** by selecting the **Edit** symbol.</span></span> <span data-ttu-id="6cef7-262">Bạn có thể áp dụng các thay đổi sau:</span><span class="sxs-lookup"><span data-stu-id="6cef7-262">You can apply the following changes:</span></span>

  - <span data-ttu-id="6cef7-263">Thay đổi thuộc tính cho một điều kiện: Chọn các thuộc tính mới trong hàng điều kiện cụ thể.</span><span class="sxs-lookup"><span data-stu-id="6cef7-263">Change attributes for a condition: Select new attributes within the specific condition row.</span></span>
  - <span data-ttu-id="6cef7-264">Thay đổi ngưỡng cho một điều kiện: Điều chỉnh thanh trượt chính xác.</span><span class="sxs-lookup"><span data-stu-id="6cef7-264">Change the threshold for a condition: Adjust the precision slider.</span></span>
  - <span data-ttu-id="6cef7-265">Thay đổi phương thức chuẩn hóa cho một điều kiện: Cập nhật phương thức chuẩn hóa.</span><span class="sxs-lookup"><span data-stu-id="6cef7-265">Change the normalization method for a condition: Update the normalization method.</span></span>

## <a name="specify-your-custom-match-records"></a><span data-ttu-id="6cef7-266">Chỉ định hồ sơ so khớp tùy chỉnh của bạn</span><span class="sxs-lookup"><span data-stu-id="6cef7-266">Specify your custom match records</span></span>

<span data-ttu-id="6cef7-267">Bạn có thể chỉ định các điều kiện mà hồ sơ phải luôn khớp hoặc không bao giờ khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-267">You can specify conditions that certain records should always match or never match.</span></span> <span data-ttu-id="6cef7-268">Các quy tắc này có thể được tải lên hàng loạt vào quá trình khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-268">These rules can be uploaded in bulk to the match process.</span></span>

1. <span data-ttu-id="6cef7-269">Chọn tùy chọn **So khớp tùy chỉnh** trên màn hình **Thứ tự khớp**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-269">Select the **Custom match** option on the **Match order** screen.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="6cef7-270">![Tạo so khớp tùy chỉnh](media/custom-match-create.png "Tạo so khớp tùy chỉnh")</span><span class="sxs-lookup"><span data-stu-id="6cef7-270">![Create a custom match](media/custom-match-create.png "Create a custom match")</span></span>

2. <span data-ttu-id="6cef7-271">Nếu bạn không có thực thể được tải lên, bạn sẽ thấy một hộp thoại **So khớp tùy chỉnh** mới yêu cầu bạn điền một số chi tiết.</span><span class="sxs-lookup"><span data-stu-id="6cef7-271">If you have no uploaded entities, you'll see a new **Custom match** dialog box that requires you to fill in some details.</span></span> <span data-ttu-id="6cef7-272">Nếu bạn đã cung cấp các chi tiết này trước đó, hãy tới bước 8.</span><span class="sxs-lookup"><span data-stu-id="6cef7-272">If you've provided these details earlier, skip to step 8.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="6cef7-273">![Hộp thoại so khớp tùy chỉnh mới](media/custom-match-new-dialog-box.png "Hộp thoại so khớp tùy chỉnh mới")</span><span class="sxs-lookup"><span data-stu-id="6cef7-273">![New custom match dialog box](media/custom-match-new-dialog-box.png "New custom match dialog box")</span></span>

3. <span data-ttu-id="6cef7-274">Chọn **Điền vào mẫu** để có được một tệp mẫu có thể chỉ định các bản ghi mà từ đó các thực thể phải luôn khớp hoặc không bao giờ khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-274">Select **Fill in the template** to get a template file that can specify which records from which entities should always match or never match.</span></span> <span data-ttu-id="6cef7-275">Bạn sẽ cần điền riêng vào các bản ghi "luôn khớp" và các bản ghi "không bao giờ khớp" trong hai tệp khác nhau.</span><span class="sxs-lookup"><span data-stu-id="6cef7-275">You'll need to separately fill in the "always match" records and "never match" records in two different files.</span></span>

4. <span data-ttu-id="6cef7-276">Mẫu chứa các trường để chỉ định thực thể và các giá trị khóa chính của thực thể sẽ được sử dụng trong đối sánh tùy chỉnh.</span><span class="sxs-lookup"><span data-stu-id="6cef7-276">The template contains fields to specify the entity and the entity primary key values to be used in the custom match.</span></span> <span data-ttu-id="6cef7-277">Ví dụ: nếu bạn muốn khóa chính 12345 từ thực thể Bán hàng luôn khớp với khóa chính 34567 từ thực thể Liên hệ, bạn sẽ cần chỉ định như sau:</span><span class="sxs-lookup"><span data-stu-id="6cef7-277">For example, if you want primary key 12345 from Sales entity to always match with primary key 34567 from Contact entity, you'll need to specify as follows:</span></span>
    - <span data-ttu-id="6cef7-278">Thực thể 1: Bán hàng</span><span class="sxs-lookup"><span data-stu-id="6cef7-278">Entity1: Sales</span></span>
    - <span data-ttu-id="6cef7-279">Entity1Key: 12345</span><span class="sxs-lookup"><span data-stu-id="6cef7-279">Entity1Key: 12345</span></span>
    - <span data-ttu-id="6cef7-280">Thực thể 2: Người liên hệ</span><span class="sxs-lookup"><span data-stu-id="6cef7-280">Entity2: Contact</span></span>
    - <span data-ttu-id="6cef7-281">Entity2Key: 34567</span><span class="sxs-lookup"><span data-stu-id="6cef7-281">Entity2Key: 34567</span></span>

   <span data-ttu-id="6cef7-282">Cùng một tệp mẫu có thể chỉ định các bản ghi so khớp tùy chỉnh từ nhiều thực thể.</span><span class="sxs-lookup"><span data-stu-id="6cef7-282">The same template file can specify custom match records from multiple entities.</span></span>
   
   <span data-ttu-id="6cef7-283">Nếu bạn muốn chỉ định quá trình đối sánh tùy chỉnh để loại bỏ trùng lặp trên một thực thể, hãy cung cấp cùng một thực thể cho cả Entity1 và Entity2 rồi đặt các giá trị khóa chính khác nhau.</span><span class="sxs-lookup"><span data-stu-id="6cef7-283">If you want to specify custom matching for deduplication on an entity, provide the same entity as both Entity1 and Entity2 and set the different primary key values.</span></span>

5. <span data-ttu-id="6cef7-284">Sau khi thêm tất cả các phần ghi đè bạn muốn áp dụng, hãy lưu tệp mẫu.</span><span class="sxs-lookup"><span data-stu-id="6cef7-284">After adding all the overrides you want to apply, save the template file.</span></span>

6. <span data-ttu-id="6cef7-285">Đi tới **Dữ liệu** > **Nguồn dữ liệu** và nhập các tệp mẫu dưới dạng thực thể mới.</span><span class="sxs-lookup"><span data-stu-id="6cef7-285">Go to **Data** > **Data sources** and ingest the template files as new entities.</span></span> <span data-ttu-id="6cef7-286">Sau khi nhập, bạn có thể sử dụng chúng để chỉ định cấu hình So khớp.</span><span class="sxs-lookup"><span data-stu-id="6cef7-286">Once ingested, you can use them to specify the Match configuration.</span></span>

7. <span data-ttu-id="6cef7-287">Sau khi tải lên các tệp và thực thể có sẵn, chọn tùy chọn **So khớp tùy chỉnh** một lần nữa.</span><span class="sxs-lookup"><span data-stu-id="6cef7-287">After uploading the files and entities are available, select the **Custom match** option again.</span></span> <span data-ttu-id="6cef7-288">Bạn sẽ thấy các tùy chọn để chỉ định các thực thể bạn muốn bao gồm.</span><span class="sxs-lookup"><span data-stu-id="6cef7-288">You'll see options to specify the entities you want to include.</span></span> <span data-ttu-id="6cef7-289">Chọn thực thể bắt buộc từ menu thả xuống.</span><span class="sxs-lookup"><span data-stu-id="6cef7-289">Select the required entities from the drop-down menu.</span></span>

   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="6cef7-290">![Ghi đè so khớp tùy chỉnh](media/custom-match-overrides.png "Ghi đè so khớp tùy chỉnh")</span><span class="sxs-lookup"><span data-stu-id="6cef7-290">![Custom match overrides](media/custom-match-overrides.png "Custom match overrides")</span></span>

8. <span data-ttu-id="6cef7-291">Chọn các thực thể bạn muốn sử dụng cho **Luôn so khớp** và **Không bao giờ khớp**, chọn **Xong**.</span><span class="sxs-lookup"><span data-stu-id="6cef7-291">Select the entities you want to use for **Always match** and **Never match**, select **Done**.</span></span>

9. <span data-ttu-id="6cef7-292">Chọn **Lưu** trên trang **So khớp** cho cấu hình khớp tùy chỉnh bạn vừa thiết lập.</span><span class="sxs-lookup"><span data-stu-id="6cef7-292">Select **Save** on the **Match** page for the custom match configuration you just set up.</span></span>

10. <span data-ttu-id="6cef7-293">Chọn **Chạy** trên trang **So khớp** để bắt đầu quá trình khớp và cấu hình khớp tùy chỉnh sẽ có hiệu lực.</span><span class="sxs-lookup"><span data-stu-id="6cef7-293">Select **Run** on the **Match** page to start the matching process, and the custom match configuration will be taken into effect.</span></span> <span data-ttu-id="6cef7-294">Mọi quy tắc phù hợp với hệ thống đều bị ghi đè bởi bộ cấu hình.</span><span class="sxs-lookup"><span data-stu-id="6cef7-294">Any system matched rules are overridden by the configuration set.</span></span>

11. <span data-ttu-id="6cef7-295">Khi quá trình so khớp hoàn tất, bạn có thể xác minh thực thể **ConflationMatchPair** để xác nhận rằng các phần ghi đè được áp dụng trong các so khớp có thể hợp nhất.</span><span class="sxs-lookup"><span data-stu-id="6cef7-295">Once the matching is complete, you can verify the **ConflationMatchPair** entity to confirm that the overrides are applied in the conflation matches.</span></span>

## <a name="next-step"></a><span data-ttu-id="6cef7-296">Bước tiếp theo</span><span class="sxs-lookup"><span data-stu-id="6cef7-296">Next step</span></span>

<span data-ttu-id="6cef7-297">Sau khi hoàn thành quy trình đối sánh cho ít nhất một cặp đối sánh, bạn có thể giải quyết các mâu thuẫn có thể có trong dữ liệu của mình bằng cách tham khảo chủ đề [**Hợp nhất**](merge-entities.md).</span><span class="sxs-lookup"><span data-stu-id="6cef7-297">After completing the match process for at least one match pair, you may resolve possible contradictions in your data by going through the [**Merge**](merge-entities.md) topic.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]